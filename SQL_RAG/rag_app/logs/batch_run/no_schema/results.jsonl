{"index": 1, "question": "Top 10 users by lifetime revenue (user_id, revenue).", "variant": "no_schema", "timestamp": "2025-10-15T01:33:58.511491Z", "timings": {"pipeline_seconds": 1.798, "retrieval_seconds": 0.78, "generation_seconds": 0.981}, "token_usage": {"prompt_tokens": 795, "completion_tokens": 96, "total_tokens": 891, "search_method": "hybrid", "retrieval_time": 0.7796769142150879, "generation_time": 0.9807350635528564, "documents_retrieved": 1, "documents_processed": 1, "agent_type": "create", "query_rewriting": {"enabled": true, "rewritten_query": "Top 10 users by lifetime revenue (user_id, revenue).", "confidence": 1.0, "rewrite_method": "original_low_confidence", "rewrite_time": 6.7117760181427, "query_used": "Top 10 users by lifetime revenue (user_id, revenue).", "query_changed": false}, "schema_filtering": {"enabled": false}, "sql_validation": {"enabled": false}, "hybrid_search_breakdown": {"hybrid": 1}, "fusion_scores_available": true, "search_weights": null}, "sources": [{"row": 75}], "sql": null}
{"index": 2, "question": "Monthly orders and revenue for the last 90 days.", "variant": "no_schema", "timestamp": "2025-10-15T01:34:14.445354Z", "timings": {"pipeline_seconds": 2.012, "retrieval_seconds": 0.931, "generation_seconds": 1.046}, "token_usage": {"prompt_tokens": 693, "completion_tokens": 215, "total_tokens": 908, "search_method": "hybrid", "retrieval_time": 0.9309370517730713, "generation_time": 1.0457987785339355, "documents_retrieved": 1, "documents_processed": 1, "agent_type": "create", "query_rewriting": {"enabled": true, "rewritten_query": "SQL query for monthly orders count and total revenue, sales amount aggregation, for the last 90 days, recent quarter, rolling 3 months. Using `SELECT`, `FROM` orders table, `transactions` table, `sales_data`, `line_items` for `order_id`, `transaction_id`, `order_date`, `created_at`, `transaction_date`, `amount`, `price`, `quantity`, `total_amount`, `revenue_amount`, `sales_amount`. `WHERE` clause for date range filtering, `CURRENT_DATE`, `NOW()`, `INTERVAL`, `DATEDIFF`, `DATE_SUB`, `BETWEEN` dates. `GROUP BY` month, `DATE_TRUNC('month', order_date)`, `EXTRACT(MONTH FROM created_at)`. `SUM(price * quantity)`, `SUM(amount)`, `COUNT(DISTINCT order_id)`, `COUNT(transaction_id)` for financial reporting, sales analytics, time series analysis, monthly summary, performance metrics. Potential `JOIN` (inner join, left join) with products, customers, client analysis, user tables for sales analysis and reporting.", "confidence": 0.7999999999999999, "rewrite_method": "gemini_enhanced", "rewrite_time": 5.550682783126831, "query_used": "SQL query for monthly orders count and total revenue, sales amount aggregation, for the last 90 days, recent quarter, rolling 3 months. Using `SELECT`, `FROM` orders table, `transactions` table, `sales_data`, `line_items` for `order_id`, `transaction_id`, `order_date`, `created_at`, `transaction_date`, `amount`, `price`, `quantity`, `total_amount`, `revenue_amount`, `sales_amount`. `WHERE` clause for date range filtering, `CURRENT_DATE`, `NOW()`, `INTERVAL`, `DATEDIFF`, `DATE_SUB`, `BETWEEN` dates. `GROUP BY` month, `DATE_TRUNC('month', order_date)`, `EXTRACT(MONTH FROM created_at)`. `SUM(price * quantity)`, `SUM(amount)`, `COUNT(DISTINCT order_id)`, `COUNT(transaction_id)` for financial reporting, sales analytics, time series analysis, monthly summary, performance metrics. Potential `JOIN` (inner join, left join) with products, customers, client analysis, user tables for sales analysis and reporting.", "query_changed": true}, "schema_filtering": {"enabled": false}, "sql_validation": {"enabled": false}, "hybrid_search_breakdown": {"hybrid": 1}, "fusion_scores_available": true, "search_weights": null}, "sources": [{"row": 33}], "sql": null}
{"index": 3, "question": "Average order value by product category.", "variant": "no_schema", "timestamp": "2025-10-15T01:34:29.118961Z", "timings": {"pipeline_seconds": 1.602, "retrieval_seconds": 0.228, "generation_seconds": 1.338}, "token_usage": {"prompt_tokens": 663, "completion_tokens": 309, "total_tokens": 972, "search_method": "hybrid", "retrieval_time": 0.22762489318847656, "generation_time": 1.3375530242919922, "documents_retrieved": 1, "documents_processed": 1, "agent_type": "create", "query_rewriting": {"enabled": true, "rewritten_query": "Calculate the average order value (mean transaction sum, average revenue per order) for sales performance by product category (item classification, product type). This requires a multi-table join (e.g., INNER JOIN, LEFT JOIN) across Orders, Order_Items, Products, and Product_Categories tables to aggregate (`SUM()`) line item totals (quantity * unit price) per order, then compute the `AVG()` aggregate function on these order totals, grouped by product_category_id or product_category_name. Consider using a subquery or Common Table Expression (CTE) for intermediate order total calculation, and optional `WHERE` for filtering or `ORDER BY` for reporting.", "confidence": 0.7999999999999999, "rewrite_method": "gemini_enhanced", "rewrite_time": 6.218165874481201, "query_used": "Calculate the average order value (mean transaction sum, average revenue per order) for sales performance by product category (item classification, product type). This requires a multi-table join (e.g., INNER JOIN, LEFT JOIN) across Orders, Order_Items, Products, and Product_Categories tables to aggregate (`SUM()`) line item totals (quantity * unit price) per order, then compute the `AVG()` aggregate function on these order totals, grouped by product_category_id or product_category_name. Consider using a subquery or Common Table Expression (CTE) for intermediate order total calculation, and optional `WHERE` for filtering or `ORDER BY` for reporting.", "query_changed": true}, "schema_filtering": {"enabled": false}, "sql_validation": {"enabled": false}, "hybrid_search_breakdown": {"hybrid": 1}, "fusion_scores_available": true, "search_weights": null}, "sources": [{"row": 24}], "sql": null}
{"index": 4, "question": "Top 10 products by order count in the last 30 days.", "variant": "no_schema", "timestamp": "2025-10-15T01:34:42.193996Z", "timings": {"pipeline_seconds": 1.857, "retrieval_seconds": 0.813, "generation_seconds": 1.011}, "token_usage": {"prompt_tokens": 707, "completion_tokens": 189, "total_tokens": 896, "search_method": "hybrid", "retrieval_time": 0.8129241466522217, "generation_time": 1.0111098289489746, "documents_retrieved": 1, "documents_processed": 1, "agent_type": "create", "query_rewriting": {"enabled": true, "rewritten_query": "SQL query to find the Top-N or Top 10 products by order count or sales volume. Show examples using `GROUP BY`, `COUNT()`, `ORDER BY DESC` with `LIMIT` or `TOP`. Include advanced ranking with window functions like `RANK()` or `DENSE_RANK()` over a partition, often using a Common Table Expression (CTE) or subquery. Query must filter results for a specific date range, like the last 30 days, using a `WHERE` clause with date functions (`DATE_SUB`, `CURRENT_DATE`, `GETDATE()`, `INTERVAL`, `BETWEEN`). Demonstrate `JOIN`s (e.g., `INNER JOIN`, `LEFT JOIN`) between tables like `products`, `orders`, and `order_details` to link product information with transactional data. Related concepts: Top-N analysis, ranking queries, summarizing sales data, business intelligence reports, aggregate functions, time-series analysis, joining fact and dimension tables.", "confidence": 0.7999999999999999, "rewrite_method": "gemini_enhanced", "rewrite_time": 18.847567081451416, "query_used": "SQL query to find the Top-N or Top 10 products by order count or sales volume. Show examples using `GROUP BY`, `COUNT()`, `ORDER BY DESC` with `LIMIT` or `TOP`. Include advanced ranking with window functions like `RANK()` or `DENSE_RANK()` over a partition, often using a Common Table Expression (CTE) or subquery. Query must filter results for a specific date range, like the last 30 days, using a `WHERE` clause with date functions (`DATE_SUB`, `CURRENT_DATE`, `GETDATE()`, `INTERVAL`, `BETWEEN`). Demonstrate `JOIN`s (e.g., `INNER JOIN`, `LEFT JOIN`) between tables like `products`, `orders`, and `order_details` to link product information with transactional data. Related concepts: Top-N analysis, ranking queries, summarizing sales data, business intelligence reports, aggregate functions, time-series analysis, joining fact and dimension tables.", "query_changed": true}, "schema_filtering": {"enabled": false}, "sql_validation": {"enabled": false}, "hybrid_search_breakdown": {"hybrid": 1}, "fusion_scores_available": true, "search_weights": null}, "sources": [{"row": 95}], "sql": null}
{"index": 5, "question": "Conversion rate: orders per user over the past 6 months.", "variant": "no_schema", "timestamp": "2025-10-15T01:34:55.600983Z", "timings": {"pipeline_seconds": 2.668, "retrieval_seconds": 0.302, "generation_seconds": 2.328}, "token_usage": {"prompt_tokens": 667, "completion_tokens": 630, "total_tokens": 1297, "search_method": "hybrid", "retrieval_time": 0.3016030788421631, "generation_time": 2.3281006813049316, "documents_retrieved": 1, "documents_processed": 1, "agent_type": "create", "query_rewriting": {"enabled": true, "rewritten_query": "Conversion rate: orders per user over the past 6 months.", "confidence": 1.0, "rewrite_method": "original_low_confidence", "rewrite_time": 6.797513961791992, "query_used": "Conversion rate: orders per user over the past 6 months.", "query_changed": false}, "schema_filtering": {"enabled": false}, "sql_validation": {"enabled": false}, "hybrid_search_breakdown": {"hybrid": 1}, "fusion_scores_available": true, "search_weights": null}, "sources": [{"row": 20}], "sql": null}
{"index": 1, "question": "Top 10 users by lifetime revenue (user_id, revenue).", "variant": "no_schema", "timestamp": "2025-10-15T02:15:53.700078Z", "timings": {"pipeline_seconds": 2.796, "retrieval_seconds": 0.439, "generation_seconds": 2.32}, "token_usage": {"prompt_tokens": 795, "completion_tokens": 601, "total_tokens": 1396, "search_method": "hybrid", "retrieval_time": 0.4393460750579834, "generation_time": 2.3195149898529053, "documents_retrieved": 1, "documents_processed": 1, "agent_type": "create", "query_rewriting": {"enabled": true, "rewritten_query": "Top 10 users by lifetime revenue (user_id, revenue).", "confidence": 1.0, "rewrite_method": "original_low_confidence", "rewrite_time": 6.7117760181427, "query_used": "Top 10 users by lifetime revenue (user_id, revenue).", "query_changed": false}, "schema_filtering": {"enabled": false}, "sql_validation": {"enabled": false}, "hybrid_search_breakdown": {"hybrid": 1}, "fusion_scores_available": true, "search_weights": null}, "sources": [{"row": 75}], "sql": null}
{"index": 2, "question": "Monthly orders and revenue for the last 90 days.", "variant": "no_schema", "timestamp": "2025-10-15T02:16:10.939773Z", "timings": {"pipeline_seconds": 1.665, "retrieval_seconds": 0.408, "generation_seconds": 1.216}, "token_usage": {"prompt_tokens": 693, "completion_tokens": 267, "total_tokens": 960, "search_method": "hybrid", "retrieval_time": 0.40825915336608887, "generation_time": 1.2164931297302246, "documents_retrieved": 1, "documents_processed": 1, "agent_type": "create", "query_rewriting": {"enabled": true, "rewritten_query": "SQL query for monthly orders count and total revenue, sales amount aggregation, for the last 90 days, recent quarter, rolling 3 months. Using `SELECT`, `FROM` orders table, `transactions` table, `sales_data`, `line_items` for `order_id`, `transaction_id`, `order_date`, `created_at`, `transaction_date`, `amount`, `price`, `quantity`, `total_amount`, `revenue_amount`, `sales_amount`. `WHERE` clause for date range filtering, `CURRENT_DATE`, `NOW()`, `INTERVAL`, `DATEDIFF`, `DATE_SUB`, `BETWEEN` dates. `GROUP BY` month, `DATE_TRUNC('month', order_date)`, `EXTRACT(MONTH FROM created_at)`. `SUM(price * quantity)`, `SUM(amount)`, `COUNT(DISTINCT order_id)`, `COUNT(transaction_id)` for financial reporting, sales analytics, time series analysis, monthly summary, performance metrics. Potential `JOIN` (inner join, left join) with products, customers, client analysis, user tables for sales analysis and reporting.", "confidence": 0.7999999999999999, "rewrite_method": "gemini_enhanced", "rewrite_time": 5.550682783126831, "query_used": "SQL query for monthly orders count and total revenue, sales amount aggregation, for the last 90 days, recent quarter, rolling 3 months. Using `SELECT`, `FROM` orders table, `transactions` table, `sales_data`, `line_items` for `order_id`, `transaction_id`, `order_date`, `created_at`, `transaction_date`, `amount`, `price`, `quantity`, `total_amount`, `revenue_amount`, `sales_amount`. `WHERE` clause for date range filtering, `CURRENT_DATE`, `NOW()`, `INTERVAL`, `DATEDIFF`, `DATE_SUB`, `BETWEEN` dates. `GROUP BY` month, `DATE_TRUNC('month', order_date)`, `EXTRACT(MONTH FROM created_at)`. `SUM(price * quantity)`, `SUM(amount)`, `COUNT(DISTINCT order_id)`, `COUNT(transaction_id)` for financial reporting, sales analytics, time series analysis, monthly summary, performance metrics. Potential `JOIN` (inner join, left join) with products, customers, client analysis, user tables for sales analysis and reporting.", "query_changed": true}, "schema_filtering": {"enabled": false}, "sql_validation": {"enabled": false}, "hybrid_search_breakdown": {"hybrid": 1}, "fusion_scores_available": true, "search_weights": null}, "sources": [{"row": 33}], "sql": null}
{"index": 3, "question": "Average order value by product category.", "variant": "no_schema", "timestamp": "2025-10-15T02:16:45.433564Z", "timings": {"pipeline_seconds": 1.844, "retrieval_seconds": 0.414, "generation_seconds": 1.394}, "token_usage": {"prompt_tokens": 663, "completion_tokens": 315, "total_tokens": 978, "search_method": "hybrid", "retrieval_time": 0.4136056900024414, "generation_time": 1.3936431407928467, "documents_retrieved": 1, "documents_processed": 1, "agent_type": "create", "query_rewriting": {"enabled": true, "rewritten_query": "Calculate the average order value (mean transaction sum, average revenue per order) for sales performance by product category (item classification, product type). This requires a multi-table join (e.g., INNER JOIN, LEFT JOIN) across Orders, Order_Items, Products, and Product_Categories tables to aggregate (`SUM()`) line item totals (quantity * unit price) per order, then compute the `AVG()` aggregate function on these order totals, grouped by product_category_id or product_category_name. Consider using a subquery or Common Table Expression (CTE) for intermediate order total calculation, and optional `WHERE` for filtering or `ORDER BY` for reporting.", "confidence": 0.7999999999999999, "rewrite_method": "gemini_enhanced", "rewrite_time": 6.218165874481201, "query_used": "Calculate the average order value (mean transaction sum, average revenue per order) for sales performance by product category (item classification, product type). This requires a multi-table join (e.g., INNER JOIN, LEFT JOIN) across Orders, Order_Items, Products, and Product_Categories tables to aggregate (`SUM()`) line item totals (quantity * unit price) per order, then compute the `AVG()` aggregate function on these order totals, grouped by product_category_id or product_category_name. Consider using a subquery or Common Table Expression (CTE) for intermediate order total calculation, and optional `WHERE` for filtering or `ORDER BY` for reporting.", "query_changed": true}, "schema_filtering": {"enabled": false}, "sql_validation": {"enabled": false}, "hybrid_search_breakdown": {"hybrid": 1}, "fusion_scores_available": true, "search_weights": null}, "sources": [{"row": 24}], "sql": null}
{"index": 4, "question": "Top 10 products by order count in the last 30 days.", "variant": "no_schema", "timestamp": "2025-10-15T02:16:58.452489Z", "timings": {"pipeline_seconds": 1.732, "retrieval_seconds": 0.707, "generation_seconds": 0.99}, "token_usage": {"prompt_tokens": 707, "completion_tokens": 173, "total_tokens": 880, "search_method": "hybrid", "retrieval_time": 0.7072031497955322, "generation_time": 0.9897880554199219, "documents_retrieved": 1, "documents_processed": 1, "agent_type": "create", "query_rewriting": {"enabled": true, "rewritten_query": "SQL query to find the Top-N or Top 10 products by order count or sales volume. Show examples using `GROUP BY`, `COUNT()`, `ORDER BY DESC` with `LIMIT` or `TOP`. Include advanced ranking with window functions like `RANK()` or `DENSE_RANK()` over a partition, often using a Common Table Expression (CTE) or subquery. Query must filter results for a specific date range, like the last 30 days, using a `WHERE` clause with date functions (`DATE_SUB`, `CURRENT_DATE`, `GETDATE()`, `INTERVAL`, `BETWEEN`). Demonstrate `JOIN`s (e.g., `INNER JOIN`, `LEFT JOIN`) between tables like `products`, `orders`, and `order_details` to link product information with transactional data. Related concepts: Top-N analysis, ranking queries, summarizing sales data, business intelligence reports, aggregate functions, time-series analysis, joining fact and dimension tables.", "confidence": 0.7999999999999999, "rewrite_method": "gemini_enhanced", "rewrite_time": 18.847567081451416, "query_used": "SQL query to find the Top-N or Top 10 products by order count or sales volume. Show examples using `GROUP BY`, `COUNT()`, `ORDER BY DESC` with `LIMIT` or `TOP`. Include advanced ranking with window functions like `RANK()` or `DENSE_RANK()` over a partition, often using a Common Table Expression (CTE) or subquery. Query must filter results for a specific date range, like the last 30 days, using a `WHERE` clause with date functions (`DATE_SUB`, `CURRENT_DATE`, `GETDATE()`, `INTERVAL`, `BETWEEN`). Demonstrate `JOIN`s (e.g., `INNER JOIN`, `LEFT JOIN`) between tables like `products`, `orders`, and `order_details` to link product information with transactional data. Related concepts: Top-N analysis, ranking queries, summarizing sales data, business intelligence reports, aggregate functions, time-series analysis, joining fact and dimension tables.", "query_changed": true}, "schema_filtering": {"enabled": false}, "sql_validation": {"enabled": false}, "hybrid_search_breakdown": {"hybrid": 1}, "fusion_scores_available": true, "search_weights": null}, "sources": [{"row": 95}], "sql": null}
{"index": 5, "question": "Conversion rate: orders per user over the past 6 months.", "variant": "no_schema", "timestamp": "2025-10-15T02:17:14.005214Z", "timings": {"pipeline_seconds": 1.54, "retrieval_seconds": 0.479, "generation_seconds": 1.023}, "token_usage": {"prompt_tokens": 667, "completion_tokens": 162, "total_tokens": 829, "search_method": "hybrid", "retrieval_time": 0.47872400283813477, "generation_time": 1.0225169658660889, "documents_retrieved": 1, "documents_processed": 1, "agent_type": "create", "query_rewriting": {"enabled": true, "rewritten_query": "Conversion rate: orders per user over the past 6 months.", "confidence": 1.0, "rewrite_method": "original_low_confidence", "rewrite_time": 6.797513961791992, "query_used": "Conversion rate: orders per user over the past 6 months.", "query_changed": false}, "schema_filtering": {"enabled": false}, "sql_validation": {"enabled": false}, "hybrid_search_breakdown": {"hybrid": 1}, "fusion_scores_available": true, "search_weights": null}, "sources": [{"row": 20}], "sql": null}
