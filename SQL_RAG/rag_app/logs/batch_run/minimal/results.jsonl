{"index": 1, "question": "Top 10 users by lifetime revenue (user_id, revenue).", "variant": "minimal", "timestamp": "2025-10-15T01:34:02.556271Z", "timings": {"pipeline_seconds": 3.236, "retrieval_seconds": 2.255, "generation_seconds": 0.947}, "token_usage": {"prompt_tokens": 795, "completion_tokens": 114, "total_tokens": 909, "search_method": "hybrid", "retrieval_time": 2.2551591396331787, "generation_time": 0.9467997550964355, "documents_retrieved": 1, "documents_processed": 1, "agent_type": "create", "query_rewriting": {"enabled": true, "rewritten_query": "Top 10 users by lifetime revenue (user_id, revenue).", "confidence": 1.0, "rewrite_method": "original_low_confidence", "rewrite_time": 6.7117760181427, "query_used": "Top 10 users by lifetime revenue (user_id, revenue).", "query_changed": false}, "schema_filtering": {"enabled": false}, "sql_validation": {"enabled": false}, "hybrid_search_breakdown": {"hybrid": 1}, "fusion_scores_available": true, "search_weights": null}, "sources": [{"row": 75}], "sql": null}
{"index": 2, "question": "Monthly orders and revenue for the last 90 days.", "variant": "minimal", "timestamp": "2025-10-15T01:34:18.432375Z", "timings": {"pipeline_seconds": 1.857, "retrieval_seconds": 0.232, "generation_seconds": 1.591}, "token_usage": {"prompt_tokens": 693, "completion_tokens": 353, "total_tokens": 1046, "search_method": "hybrid", "retrieval_time": 0.23240923881530762, "generation_time": 1.5905730724334717, "documents_retrieved": 1, "documents_processed": 1, "agent_type": "create", "query_rewriting": {"enabled": true, "rewritten_query": "SQL query for monthly orders count and total revenue, sales amount aggregation, for the last 90 days, recent quarter, rolling 3 months. Using `SELECT`, `FROM` orders table, `transactions` table, `sales_data`, `line_items` for `order_id`, `transaction_id`, `order_date`, `created_at`, `transaction_date`, `amount`, `price`, `quantity`, `total_amount`, `revenue_amount`, `sales_amount`. `WHERE` clause for date range filtering, `CURRENT_DATE`, `NOW()`, `INTERVAL`, `DATEDIFF`, `DATE_SUB`, `BETWEEN` dates. `GROUP BY` month, `DATE_TRUNC('month', order_date)`, `EXTRACT(MONTH FROM created_at)`. `SUM(price * quantity)`, `SUM(amount)`, `COUNT(DISTINCT order_id)`, `COUNT(transaction_id)` for financial reporting, sales analytics, time series analysis, monthly summary, performance metrics. Potential `JOIN` (inner join, left join) with products, customers, client analysis, user tables for sales analysis and reporting.", "confidence": 0.7999999999999999, "rewrite_method": "gemini_enhanced", "rewrite_time": 5.550682783126831, "query_used": "SQL query for monthly orders count and total revenue, sales amount aggregation, for the last 90 days, recent quarter, rolling 3 months. Using `SELECT`, `FROM` orders table, `transactions` table, `sales_data`, `line_items` for `order_id`, `transaction_id`, `order_date`, `created_at`, `transaction_date`, `amount`, `price`, `quantity`, `total_amount`, `revenue_amount`, `sales_amount`. `WHERE` clause for date range filtering, `CURRENT_DATE`, `NOW()`, `INTERVAL`, `DATEDIFF`, `DATE_SUB`, `BETWEEN` dates. `GROUP BY` month, `DATE_TRUNC('month', order_date)`, `EXTRACT(MONTH FROM created_at)`. `SUM(price * quantity)`, `SUM(amount)`, `COUNT(DISTINCT order_id)`, `COUNT(transaction_id)` for financial reporting, sales analytics, time series analysis, monthly summary, performance metrics. Potential `JOIN` (inner join, left join) with products, customers, client analysis, user tables for sales analysis and reporting.", "query_changed": true}, "schema_filtering": {"enabled": false}, "sql_validation": {"enabled": false}, "hybrid_search_breakdown": {"hybrid": 1}, "fusion_scores_available": true, "search_weights": null}, "sources": [{"row": 33}], "sql": null}
{"index": 3, "question": "Average order value by product category.", "variant": "minimal", "timestamp": "2025-10-15T01:34:32.768743Z", "timings": {"pipeline_seconds": 2.458, "retrieval_seconds": 0.92, "generation_seconds": 1.5}, "token_usage": {"prompt_tokens": 663, "completion_tokens": 349, "total_tokens": 1012, "search_method": "hybrid", "retrieval_time": 0.9195957183837891, "generation_time": 1.5001869201660156, "documents_retrieved": 1, "documents_processed": 1, "agent_type": "create", "query_rewriting": {"enabled": true, "rewritten_query": "Calculate the average order value (mean transaction sum, average revenue per order) for sales performance by product category (item classification, product type). This requires a multi-table join (e.g., INNER JOIN, LEFT JOIN) across Orders, Order_Items, Products, and Product_Categories tables to aggregate (`SUM()`) line item totals (quantity * unit price) per order, then compute the `AVG()` aggregate function on these order totals, grouped by product_category_id or product_category_name. Consider using a subquery or Common Table Expression (CTE) for intermediate order total calculation, and optional `WHERE` for filtering or `ORDER BY` for reporting.", "confidence": 0.7999999999999999, "rewrite_method": "gemini_enhanced", "rewrite_time": 6.218165874481201, "query_used": "Calculate the average order value (mean transaction sum, average revenue per order) for sales performance by product category (item classification, product type). This requires a multi-table join (e.g., INNER JOIN, LEFT JOIN) across Orders, Order_Items, Products, and Product_Categories tables to aggregate (`SUM()`) line item totals (quantity * unit price) per order, then compute the `AVG()` aggregate function on these order totals, grouped by product_category_id or product_category_name. Consider using a subquery or Common Table Expression (CTE) for intermediate order total calculation, and optional `WHERE` for filtering or `ORDER BY` for reporting.", "query_changed": true}, "schema_filtering": {"enabled": false}, "sql_validation": {"enabled": false}, "hybrid_search_breakdown": {"hybrid": 1}, "fusion_scores_available": true, "search_weights": null}, "sources": [{"row": 24}], "sql": null}
{"index": 4, "question": "Top 10 products by order count in the last 30 days.", "variant": "minimal", "timestamp": "2025-10-15T01:34:45.571293Z", "timings": {"pipeline_seconds": 1.94, "retrieval_seconds": 0.664, "generation_seconds": 1.248}, "token_usage": {"prompt_tokens": 707, "completion_tokens": 221, "total_tokens": 928, "search_method": "hybrid", "retrieval_time": 0.6636240482330322, "generation_time": 1.248201847076416, "documents_retrieved": 1, "documents_processed": 1, "agent_type": "create", "query_rewriting": {"enabled": true, "rewritten_query": "SQL query to find the Top-N or Top 10 products by order count or sales volume. Show examples using `GROUP BY`, `COUNT()`, `ORDER BY DESC` with `LIMIT` or `TOP`. Include advanced ranking with window functions like `RANK()` or `DENSE_RANK()` over a partition, often using a Common Table Expression (CTE) or subquery. Query must filter results for a specific date range, like the last 30 days, using a `WHERE` clause with date functions (`DATE_SUB`, `CURRENT_DATE`, `GETDATE()`, `INTERVAL`, `BETWEEN`). Demonstrate `JOIN`s (e.g., `INNER JOIN`, `LEFT JOIN`) between tables like `products`, `orders`, and `order_details` to link product information with transactional data. Related concepts: Top-N analysis, ranking queries, summarizing sales data, business intelligence reports, aggregate functions, time-series analysis, joining fact and dimension tables.", "confidence": 0.7999999999999999, "rewrite_method": "gemini_enhanced", "rewrite_time": 18.847567081451416, "query_used": "SQL query to find the Top-N or Top 10 products by order count or sales volume. Show examples using `GROUP BY`, `COUNT()`, `ORDER BY DESC` with `LIMIT` or `TOP`. Include advanced ranking with window functions like `RANK()` or `DENSE_RANK()` over a partition, often using a Common Table Expression (CTE) or subquery. Query must filter results for a specific date range, like the last 30 days, using a `WHERE` clause with date functions (`DATE_SUB`, `CURRENT_DATE`, `GETDATE()`, `INTERVAL`, `BETWEEN`). Demonstrate `JOIN`s (e.g., `INNER JOIN`, `LEFT JOIN`) between tables like `products`, `orders`, and `order_details` to link product information with transactional data. Related concepts: Top-N analysis, ranking queries, summarizing sales data, business intelligence reports, aggregate functions, time-series analysis, joining fact and dimension tables.", "query_changed": true}, "schema_filtering": {"enabled": false}, "sql_validation": {"enabled": false}, "hybrid_search_breakdown": {"hybrid": 1}, "fusion_scores_available": true, "search_weights": null}, "sources": [{"row": 95}], "sql": null}
{"index": 5, "question": "Conversion rate: orders per user over the past 6 months.", "variant": "minimal", "timestamp": "2025-10-15T01:34:59.804772Z", "timings": {"pipeline_seconds": 5.815, "retrieval_seconds": 0.148, "generation_seconds": 5.639}, "token_usage": {"prompt_tokens": 667, "completion_tokens": 1862, "total_tokens": 2529, "search_method": "hybrid", "retrieval_time": 0.14815783500671387, "generation_time": 5.638880014419556, "documents_retrieved": 1, "documents_processed": 1, "agent_type": "create", "query_rewriting": {"enabled": true, "rewritten_query": "Conversion rate: orders per user over the past 6 months.", "confidence": 1.0, "rewrite_method": "original_low_confidence", "rewrite_time": 6.797513961791992, "query_used": "Conversion rate: orders per user over the past 6 months.", "query_changed": false}, "schema_filtering": {"enabled": false}, "sql_validation": {"enabled": false}, "hybrid_search_breakdown": {"hybrid": 1}, "fusion_scores_available": true, "search_weights": null}, "sources": [{"row": 20}], "sql": null}
{"index": 1, "question": "Top 10 users by lifetime revenue (user_id, revenue).", "variant": "minimal", "timestamp": "2025-10-15T02:15:57.417264Z", "timings": {"pipeline_seconds": 1.244, "retrieval_seconds": 0.295, "generation_seconds": 0.912}, "token_usage": {"prompt_tokens": 795, "completion_tokens": 108, "total_tokens": 903, "search_method": "hybrid", "retrieval_time": 0.29451894760131836, "generation_time": 0.9121248722076416, "documents_retrieved": 1, "documents_processed": 1, "agent_type": "create", "query_rewriting": {"enabled": true, "rewritten_query": "Top 10 users by lifetime revenue (user_id, revenue).", "confidence": 1.0, "rewrite_method": "original_low_confidence", "rewrite_time": 6.7117760181427, "query_used": "Top 10 users by lifetime revenue (user_id, revenue).", "query_changed": false}, "schema_filtering": {"enabled": false}, "sql_validation": {"enabled": false}, "hybrid_search_breakdown": {"hybrid": 1}, "fusion_scores_available": true, "search_weights": null}, "sources": [{"row": 75}], "sql": null}
{"index": 2, "question": "Monthly orders and revenue for the last 90 days.", "variant": "minimal", "timestamp": "2025-10-15T02:16:14.315409Z", "timings": {"pipeline_seconds": 1.942, "retrieval_seconds": 0.201, "generation_seconds": 1.706}, "token_usage": {"prompt_tokens": 693, "completion_tokens": 445, "total_tokens": 1138, "search_method": "hybrid", "retrieval_time": 0.2005329132080078, "generation_time": 1.7061269283294678, "documents_retrieved": 1, "documents_processed": 1, "agent_type": "create", "query_rewriting": {"enabled": true, "rewritten_query": "SQL query for monthly orders count and total revenue, sales amount aggregation, for the last 90 days, recent quarter, rolling 3 months. Using `SELECT`, `FROM` orders table, `transactions` table, `sales_data`, `line_items` for `order_id`, `transaction_id`, `order_date`, `created_at`, `transaction_date`, `amount`, `price`, `quantity`, `total_amount`, `revenue_amount`, `sales_amount`. `WHERE` clause for date range filtering, `CURRENT_DATE`, `NOW()`, `INTERVAL`, `DATEDIFF`, `DATE_SUB`, `BETWEEN` dates. `GROUP BY` month, `DATE_TRUNC('month', order_date)`, `EXTRACT(MONTH FROM created_at)`. `SUM(price * quantity)`, `SUM(amount)`, `COUNT(DISTINCT order_id)`, `COUNT(transaction_id)` for financial reporting, sales analytics, time series analysis, monthly summary, performance metrics. Potential `JOIN` (inner join, left join) with products, customers, client analysis, user tables for sales analysis and reporting.", "confidence": 0.7999999999999999, "rewrite_method": "gemini_enhanced", "rewrite_time": 5.550682783126831, "query_used": "SQL query for monthly orders count and total revenue, sales amount aggregation, for the last 90 days, recent quarter, rolling 3 months. Using `SELECT`, `FROM` orders table, `transactions` table, `sales_data`, `line_items` for `order_id`, `transaction_id`, `order_date`, `created_at`, `transaction_date`, `amount`, `price`, `quantity`, `total_amount`, `revenue_amount`, `sales_amount`. `WHERE` clause for date range filtering, `CURRENT_DATE`, `NOW()`, `INTERVAL`, `DATEDIFF`, `DATE_SUB`, `BETWEEN` dates. `GROUP BY` month, `DATE_TRUNC('month', order_date)`, `EXTRACT(MONTH FROM created_at)`. `SUM(price * quantity)`, `SUM(amount)`, `COUNT(DISTINCT order_id)`, `COUNT(transaction_id)` for financial reporting, sales analytics, time series analysis, monthly summary, performance metrics. Potential `JOIN` (inner join, left join) with products, customers, client analysis, user tables for sales analysis and reporting.", "query_changed": true}, "schema_filtering": {"enabled": false}, "sql_validation": {"enabled": false}, "hybrid_search_breakdown": {"hybrid": 1}, "fusion_scores_available": true, "search_weights": null}, "sources": [{"row": 33}], "sql": null}
{"index": 3, "question": "Average order value by product category.", "variant": "minimal", "timestamp": "2025-10-15T02:16:50.153221Z", "timings": {"pipeline_seconds": 1.64, "retrieval_seconds": 0.23, "generation_seconds": 1.367}, "token_usage": {"prompt_tokens": 663, "completion_tokens": 310, "total_tokens": 973, "search_method": "hybrid", "retrieval_time": 0.23021197319030762, "generation_time": 1.3674519062042236, "documents_retrieved": 1, "documents_processed": 1, "agent_type": "create", "query_rewriting": {"enabled": true, "rewritten_query": "Calculate the average order value (mean transaction sum, average revenue per order) for sales performance by product category (item classification, product type). This requires a multi-table join (e.g., INNER JOIN, LEFT JOIN) across Orders, Order_Items, Products, and Product_Categories tables to aggregate (`SUM()`) line item totals (quantity * unit price) per order, then compute the `AVG()` aggregate function on these order totals, grouped by product_category_id or product_category_name. Consider using a subquery or Common Table Expression (CTE) for intermediate order total calculation, and optional `WHERE` for filtering or `ORDER BY` for reporting.", "confidence": 0.7999999999999999, "rewrite_method": "gemini_enhanced", "rewrite_time": 6.218165874481201, "query_used": "Calculate the average order value (mean transaction sum, average revenue per order) for sales performance by product category (item classification, product type). This requires a multi-table join (e.g., INNER JOIN, LEFT JOIN) across Orders, Order_Items, Products, and Product_Categories tables to aggregate (`SUM()`) line item totals (quantity * unit price) per order, then compute the `AVG()` aggregate function on these order totals, grouped by product_category_id or product_category_name. Consider using a subquery or Common Table Expression (CTE) for intermediate order total calculation, and optional `WHERE` for filtering or `ORDER BY` for reporting.", "query_changed": true}, "schema_filtering": {"enabled": false}, "sql_validation": {"enabled": false}, "hybrid_search_breakdown": {"hybrid": 1}, "fusion_scores_available": true, "search_weights": null}, "sources": [{"row": 24}], "sql": null}
{"index": 4, "question": "Top 10 products by order count in the last 30 days.", "variant": "minimal", "timestamp": "2025-10-15T02:17:01.419094Z", "timings": {"pipeline_seconds": 1.529, "retrieval_seconds": 0.363, "generation_seconds": 1.13}, "token_usage": {"prompt_tokens": 707, "completion_tokens": 181, "total_tokens": 888, "search_method": "hybrid", "retrieval_time": 0.3632059097290039, "generation_time": 1.1295249462127686, "documents_retrieved": 1, "documents_processed": 1, "agent_type": "create", "query_rewriting": {"enabled": true, "rewritten_query": "SQL query to find the Top-N or Top 10 products by order count or sales volume. Show examples using `GROUP BY`, `COUNT()`, `ORDER BY DESC` with `LIMIT` or `TOP`. Include advanced ranking with window functions like `RANK()` or `DENSE_RANK()` over a partition, often using a Common Table Expression (CTE) or subquery. Query must filter results for a specific date range, like the last 30 days, using a `WHERE` clause with date functions (`DATE_SUB`, `CURRENT_DATE`, `GETDATE()`, `INTERVAL`, `BETWEEN`). Demonstrate `JOIN`s (e.g., `INNER JOIN`, `LEFT JOIN`) between tables like `products`, `orders`, and `order_details` to link product information with transactional data. Related concepts: Top-N analysis, ranking queries, summarizing sales data, business intelligence reports, aggregate functions, time-series analysis, joining fact and dimension tables.", "confidence": 0.7999999999999999, "rewrite_method": "gemini_enhanced", "rewrite_time": 18.847567081451416, "query_used": "SQL query to find the Top-N or Top 10 products by order count or sales volume. Show examples using `GROUP BY`, `COUNT()`, `ORDER BY DESC` with `LIMIT` or `TOP`. Include advanced ranking with window functions like `RANK()` or `DENSE_RANK()` over a partition, often using a Common Table Expression (CTE) or subquery. Query must filter results for a specific date range, like the last 30 days, using a `WHERE` clause with date functions (`DATE_SUB`, `CURRENT_DATE`, `GETDATE()`, `INTERVAL`, `BETWEEN`). Demonstrate `JOIN`s (e.g., `INNER JOIN`, `LEFT JOIN`) between tables like `products`, `orders`, and `order_details` to link product information with transactional data. Related concepts: Top-N analysis, ranking queries, summarizing sales data, business intelligence reports, aggregate functions, time-series analysis, joining fact and dimension tables.", "query_changed": true}, "schema_filtering": {"enabled": false}, "sql_validation": {"enabled": false}, "hybrid_search_breakdown": {"hybrid": 1}, "fusion_scores_available": true, "search_weights": null}, "sources": [{"row": 95}], "sql": null}
{"index": 5, "question": "Conversion rate: orders per user over the past 6 months.", "variant": "minimal", "timestamp": "2025-10-15T02:17:17.646128Z", "timings": {"pipeline_seconds": 1.685, "retrieval_seconds": 0.283, "generation_seconds": 1.369}, "token_usage": {"prompt_tokens": 667, "completion_tokens": 317, "total_tokens": 984, "search_method": "hybrid", "retrieval_time": 0.28265380859375, "generation_time": 1.3687231540679932, "documents_retrieved": 1, "documents_processed": 1, "agent_type": "create", "query_rewriting": {"enabled": true, "rewritten_query": "Conversion rate: orders per user over the past 6 months.", "confidence": 1.0, "rewrite_method": "original_low_confidence", "rewrite_time": 6.797513961791992, "query_used": "Conversion rate: orders per user over the past 6 months.", "query_changed": false}, "schema_filtering": {"enabled": false}, "sql_validation": {"enabled": false}, "hybrid_search_breakdown": {"hybrid": 1}, "fusion_scores_available": true, "search_weights": null}, "sources": [{"row": 20}], "sql": null}
