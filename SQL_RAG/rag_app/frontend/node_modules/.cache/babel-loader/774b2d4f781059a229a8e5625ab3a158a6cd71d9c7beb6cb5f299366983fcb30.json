{"ast":null,"code":"import React from'react';import'./MessageBubble.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MessageBubble=_ref=>{let{message}=_ref;const isUser=message.role==='user';const formatDate=date=>{return new Date(date).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});};return/*#__PURE__*/_jsxs(\"div\",{className:\"message-bubble \".concat(isUser?'user':'assistant'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"message-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-text\",children:message.content.split('\\n').map((paragraph,index)=>/*#__PURE__*/_jsx(\"p\",{children:paragraph},index))}),message.sqlQuery&&/*#__PURE__*/_jsxs(\"div\",{className:\"sql-query\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Generated SQL:\"}),/*#__PURE__*/_jsx(\"pre\",{children:/*#__PURE__*/_jsx(\"code\",{children:message.sqlQuery})})]}),message.sqlResult&&/*#__PURE__*/_jsxs(\"div\",{className:\"sql-result\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Query Results:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"result-data\",children:JSON.stringify(message.sqlResult,null,2)})]}),message.sources&&message.sources.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"sources\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Sources:\"}),/*#__PURE__*/_jsx(\"ul\",{children:message.sources.map((source,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"source-score\",children:[\"Score: \",source.score.toFixed(2)]}),/*#__PURE__*/_jsx(\"p\",{children:source.content})]},index))})]}),message.tokenUsage&&/*#__PURE__*/_jsxs(\"div\",{className:\"token-usage\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Tokens: \",message.tokenUsage.total]}),message.contextUtilization&&/*#__PURE__*/_jsxs(\"span\",{children:[\"Context: \",(message.contextUtilization*100).toFixed(1),\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"message-meta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"message-time\",children:formatDate(message.timestamp)}),message.agentUsed&&/*#__PURE__*/_jsx(\"span\",{className:\"agent-badge\",children:message.agentUsed}),message.isStreaming&&/*#__PURE__*/_jsx(\"span\",{className:\"streaming-indicator\",children:\"\\u25CF\"})]})]});};export default MessageBubble;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","MessageBubble","_ref","message","isUser","role","formatDate","date","Date","toLocaleTimeString","hour","minute","className","concat","children","content","split","map","paragraph","index","sqlQuery","sqlResult","JSON","stringify","sources","length","source","score","toFixed","tokenUsage","total","contextUtilization","timestamp","agentUsed","isStreaming"],"sources":["/Users/kanumadhok/Downloads/code/Sql_Rag_Demo/SQL_RAG/rag_app/frontend/src/components/chat/MessageBubble.tsx"],"sourcesContent":["import React from 'react';\nimport { Message } from '../../types/api';\nimport './MessageBubble.css';\n\ninterface MessageBubbleProps {\n  message: Message;\n}\n\nconst MessageBubble: React.FC<MessageBubbleProps> = ({ message }) => {\n  const isUser = message.role === 'user';\n  \n  const formatDate = (date: Date) => {\n    return new Date(date).toLocaleTimeString([], { \n      hour: '2-digit', \n      minute: '2-digit' \n    });\n  };\n\n  return (\n    <div className={`message-bubble ${isUser ? 'user' : 'assistant'}`}>\n      <div className=\"message-content\">\n        <div className=\"message-text\">\n          {message.content.split('\\n').map((paragraph, index) => (\n            <p key={index}>{paragraph}</p>\n          ))}\n        </div>\n        \n        {message.sqlQuery && (\n          <div className=\"sql-query\">\n            <h4>Generated SQL:</h4>\n            <pre>\n              <code>{message.sqlQuery}</code>\n            </pre>\n          </div>\n        )}\n        \n        {message.sqlResult && (\n          <div className=\"sql-result\">\n            <h4>Query Results:</h4>\n            <div className=\"result-data\">\n              {JSON.stringify(message.sqlResult, null, 2)}\n            </div>\n          </div>\n        )}\n        \n        {message.sources && message.sources.length > 0 && (\n          <div className=\"sources\">\n            <h4>Sources:</h4>\n            <ul>\n              {message.sources.map((source, index) => (\n                <li key={index}>\n                  <span className=\"source-score\">Score: {source.score.toFixed(2)}</span>\n                  <p>{source.content}</p>\n                </li>\n              ))}\n            </ul>\n          </div>\n        )}\n        \n        {message.tokenUsage && (\n          <div className=\"token-usage\">\n            <span>Tokens: {message.tokenUsage.total}</span>\n            {message.contextUtilization && (\n              <span>Context: {(message.contextUtilization * 100).toFixed(1)}%</span>\n            )}\n          </div>\n        )}\n      </div>\n      \n      <div className=\"message-meta\">\n        <span className=\"message-time\">{formatDate(message.timestamp)}</span>\n        {message.agentUsed && (\n          <span className=\"agent-badge\">{message.agentUsed}</span>\n        )}\n        {message.isStreaming && (\n          <span className=\"streaming-indicator\">‚óè</span>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default MessageBubble;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,MAAO,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAM7B,KAAM,CAAAC,aAA2C,CAAGC,IAAA,EAAiB,IAAhB,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CAC9D,KAAM,CAAAE,MAAM,CAAGD,OAAO,CAACE,IAAI,GAAK,MAAM,CAEtC,KAAM,CAAAC,UAAU,CAAIC,IAAU,EAAK,CACjC,MAAO,IAAI,CAAAC,IAAI,CAACD,IAAI,CAAC,CAACE,kBAAkB,CAAC,EAAE,CAAE,CAC3CC,IAAI,CAAE,SAAS,CACfC,MAAM,CAAE,SACV,CAAC,CAAC,CACJ,CAAC,CAED,mBACEX,KAAA,QAAKY,SAAS,mBAAAC,MAAA,CAAoBT,MAAM,CAAG,MAAM,CAAG,WAAW,CAAG,CAAAU,QAAA,eAChEd,KAAA,QAAKY,SAAS,CAAC,iBAAiB,CAAAE,QAAA,eAC9BhB,IAAA,QAAKc,SAAS,CAAC,cAAc,CAAAE,QAAA,CAC1BX,OAAO,CAACY,OAAO,CAACC,KAAK,CAAC,IAAI,CAAC,CAACC,GAAG,CAAC,CAACC,SAAS,CAAEC,KAAK,gBAChDrB,IAAA,MAAAgB,QAAA,CAAgBI,SAAS,EAAjBC,KAAqB,CAC9B,CAAC,CACC,CAAC,CAELhB,OAAO,CAACiB,QAAQ,eACfpB,KAAA,QAAKY,SAAS,CAAC,WAAW,CAAAE,QAAA,eACxBhB,IAAA,OAAAgB,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBhB,IAAA,QAAAgB,QAAA,cACEhB,IAAA,SAAAgB,QAAA,CAAOX,OAAO,CAACiB,QAAQ,CAAO,CAAC,CAC5B,CAAC,EACH,CACN,CAEAjB,OAAO,CAACkB,SAAS,eAChBrB,KAAA,QAAKY,SAAS,CAAC,YAAY,CAAAE,QAAA,eACzBhB,IAAA,OAAAgB,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBhB,IAAA,QAAKc,SAAS,CAAC,aAAa,CAAAE,QAAA,CACzBQ,IAAI,CAACC,SAAS,CAACpB,OAAO,CAACkB,SAAS,CAAE,IAAI,CAAE,CAAC,CAAC,CACxC,CAAC,EACH,CACN,CAEAlB,OAAO,CAACqB,OAAO,EAAIrB,OAAO,CAACqB,OAAO,CAACC,MAAM,CAAG,CAAC,eAC5CzB,KAAA,QAAKY,SAAS,CAAC,SAAS,CAAAE,QAAA,eACtBhB,IAAA,OAAAgB,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjBhB,IAAA,OAAAgB,QAAA,CACGX,OAAO,CAACqB,OAAO,CAACP,GAAG,CAAC,CAACS,MAAM,CAAEP,KAAK,gBACjCnB,KAAA,OAAAc,QAAA,eACEd,KAAA,SAAMY,SAAS,CAAC,cAAc,CAAAE,QAAA,EAAC,SAAO,CAACY,MAAM,CAACC,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,EAAO,CAAC,cACtE9B,IAAA,MAAAgB,QAAA,CAAIY,MAAM,CAACX,OAAO,CAAI,CAAC,GAFhBI,KAGL,CACL,CAAC,CACA,CAAC,EACF,CACN,CAEAhB,OAAO,CAAC0B,UAAU,eACjB7B,KAAA,QAAKY,SAAS,CAAC,aAAa,CAAAE,QAAA,eAC1Bd,KAAA,SAAAc,QAAA,EAAM,UAAQ,CAACX,OAAO,CAAC0B,UAAU,CAACC,KAAK,EAAO,CAAC,CAC9C3B,OAAO,CAAC4B,kBAAkB,eACzB/B,KAAA,SAAAc,QAAA,EAAM,WAAS,CAAC,CAACX,OAAO,CAAC4B,kBAAkB,CAAG,GAAG,EAAEH,OAAO,CAAC,CAAC,CAAC,CAAC,GAAC,EAAM,CACtE,EACE,CACN,EACE,CAAC,cAEN5B,KAAA,QAAKY,SAAS,CAAC,cAAc,CAAAE,QAAA,eAC3BhB,IAAA,SAAMc,SAAS,CAAC,cAAc,CAAAE,QAAA,CAAER,UAAU,CAACH,OAAO,CAAC6B,SAAS,CAAC,CAAO,CAAC,CACpE7B,OAAO,CAAC8B,SAAS,eAChBnC,IAAA,SAAMc,SAAS,CAAC,aAAa,CAAAE,QAAA,CAAEX,OAAO,CAAC8B,SAAS,CAAO,CACxD,CACA9B,OAAO,CAAC+B,WAAW,eAClBpC,IAAA,SAAMc,SAAS,CAAC,qBAAqB,CAAAE,QAAA,CAAC,QAAC,CAAM,CAC9C,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAb,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}