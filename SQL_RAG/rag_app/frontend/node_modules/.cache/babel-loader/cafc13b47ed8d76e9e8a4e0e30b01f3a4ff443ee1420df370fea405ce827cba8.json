{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{fetchSchema,fetchQueries}from'../store/dataSlice';import SchemasTree from'../components/data/SchemasTree';import DataTable from'../components/data/DataTable';import QueryCard from'../components/search/QueryCard';import LoadingSpinner from'../components/common/LoadingSpinner';import'../styles/DataPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DataPage=()=>{const dispatch=useDispatch();const{schema,queries,isLoading,error}=useSelector(state=>state.data);const[activeTab,setActiveTab]=useState('schema');const[queryResult,setQueryResult]=useState(null);const[executingQuery,setExecutingQuery]=useState(false);useEffect(()=>{dispatch(fetchSchema());dispatch(fetchQueries({}));},[dispatch]);const handleExecuteQuery=async sql=>{try{setExecutingQuery(true);// This would call the SQL execution API\nconsole.log('Executing query:',sql);// Mock execution for now\nsetQueryResult({success:true,data:[],columns:[]});setActiveTab('results');}catch(error){console.error('Error executing query:',error);}finally{setExecutingQuery(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"data-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDDC3\\uFE0F Data Explorer\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Explore your database schema, understand table relationships, and execute SQL queries with our powerful data exploration tools.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab-navigation\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"tab-button \".concat(activeTab==='schema'?'active':''),onClick:()=>setActiveTab('schema'),children:\"\\uD83D\\uDCCA Schema\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab-button \".concat(activeTab==='queries'?'active':''),onClick:()=>setActiveTab('queries'),children:\"\\uD83D\\uDD0D Query Catalog\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab-button \".concat(activeTab==='results'?'active':''),onClick:()=>setActiveTab('results'),children:\"\\uD83D\\uDCCB Results\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-content\",children:[activeTab==='schema'&&/*#__PURE__*/_jsx(\"div\",{className:\"schema-panel\",children:/*#__PURE__*/_jsx(SchemasTree,{schema:schema,isLoading:isLoading,error:error})}),activeTab==='queries'&&/*#__PURE__*/_jsxs(\"div\",{className:\"query-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"queries-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Query Catalog\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Browse pre-built SQL queries and execute them instantly\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"queries-list\",children:queries.map(query=>/*#__PURE__*/_jsx(QueryCard,{query:query,onExecute:handleExecuteQuery},query.id))}),isLoading&&/*#__PURE__*/_jsx(LoadingSpinner,{message:\"Loading queries...\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error})]}),activeTab==='results'&&/*#__PURE__*/_jsx(\"div\",{className:\"results-panel\",children:/*#__PURE__*/_jsx(DataTable,{data:queryResult,isLoading:executingQuery})})]})]});};export default DataPage;","map":{"version":3,"names":["React","useState","useEffect","useSelector","useDispatch","fetchSchema","fetchQueries","SchemasTree","DataTable","QueryCard","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","DataPage","dispatch","schema","queries","isLoading","error","state","data","activeTab","setActiveTab","queryResult","setQueryResult","executingQuery","setExecutingQuery","handleExecuteQuery","sql","console","log","success","columns","className","children","concat","onClick","map","query","onExecute","id","message"],"sources":["/Users/kanumadhok/Downloads/code/Sql_Rag_Demo/SQL_RAG/rag_app/frontend/src/pages/DataPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { RootState, AppDispatch } from '../store';\nimport { fetchSchema, fetchQueries } from '../store/dataSlice';\nimport SchemasTree from '../components/data/SchemasTree';\nimport DataTable from '../components/data/DataTable';\nimport QueryCard from '../components/search/QueryCard';\nimport LoadingSpinner from '../components/common/LoadingSpinner';\nimport '../styles/DataPage.css';\n\nconst DataPage: React.FC = () => {\n  const dispatch = useDispatch<AppDispatch>();\n  const { schema, queries, isLoading, error } = useSelector((state: RootState) => state.data);\n  const [activeTab, setActiveTab] = useState<'schema' | 'queries' | 'results'>('schema');\n  const [queryResult, setQueryResult] = useState(null);\n  const [executingQuery, setExecutingQuery] = useState(false);\n\n  useEffect(() => {\n    dispatch(fetchSchema());\n    dispatch(fetchQueries({}));\n  }, [dispatch]);\n\n  const handleExecuteQuery = async (sql: string) => {\n    try {\n      setExecutingQuery(true);\n      // This would call the SQL execution API\n      console.log('Executing query:', sql);\n      // Mock execution for now\n      setQueryResult({ success: true, data: [], columns: [] });\n      setActiveTab('results');\n    } catch (error) {\n      console.error('Error executing query:', error);\n    } finally {\n      setExecutingQuery(false);\n    }\n  };\n\n  return (\n    <div className=\"data-page\">\n      <div className=\"page-header\">\n        <h1>üóÉÔ∏è Data Explorer</h1>\n        <p>Explore your database schema, understand table relationships,\n          and execute SQL queries with our powerful data exploration tools.</p>\n      </div>\n\n      <div className=\"tab-navigation\">\n        <button\n          className={`tab-button ${activeTab === 'schema' ? 'active' : ''}`}\n          onClick={() => setActiveTab('schema')}\n        >\n          üìä Schema\n        </button>\n        <button\n          className={`tab-button ${activeTab === 'queries' ? 'active' : ''}`}\n          onClick={() => setActiveTab('queries')}\n        >\n          üîç Query Catalog\n        </button>\n        <button\n          className={`tab-button ${activeTab === 'results' ? 'active' : ''}`}\n          onClick={() => setActiveTab('results')}\n        >\n          üìã Results\n        </button>\n      </div>\n\n      <div className=\"data-content\">\n        {activeTab === 'schema' && (\n          <div className=\"schema-panel\">\n            <SchemasTree \n              schema={schema} \n              isLoading={isLoading}\n              error={error}\n            />\n          </div>\n        )}\n\n        {activeTab === 'queries' && (\n          <div className=\"query-panel\">\n            <div className=\"queries-header\">\n              <h2>Query Catalog</h2>\n              <p>Browse pre-built SQL queries and execute them instantly</p>\n            </div>\n            \n            <div className=\"queries-list\">\n              {queries.map((query) => (\n                <QueryCard\n                  key={query.id}\n                  query={query}\n                  onExecute={handleExecuteQuery}\n                />\n              ))}\n            </div>\n            \n            {isLoading && <LoadingSpinner message=\"Loading queries...\" />}\n            {error && <div className=\"error-message\">{error}</div>}\n          </div>\n        )}\n\n        {activeTab === 'results' && (\n          <div className=\"results-panel\">\n            <DataTable \n              data={queryResult} \n              isLoading={executingQuery}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default DataPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}