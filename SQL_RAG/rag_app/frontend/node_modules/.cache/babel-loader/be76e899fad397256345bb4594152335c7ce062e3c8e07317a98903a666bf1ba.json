{"ast":null,"code":"import React from'react';import{useDispatch,useSelector}from'react-redux';import{fetchSchema}from'../store/dataSlice';import SchemasTree from'../components/data/SchemasTree';import DataTable from'../components/data/DataTable';import'./DataPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DataPage=()=>{const dispatch=useDispatch();const{schema,isLoading,error}=useSelector(state=>state.data);const[selectedQuery,setSelectedQuery]=React.useState(null);const[queryResult,setQueryResult]=React.useState(null);const[executingQuery,setExecutingQuery]=React.useState(false);React.useEffect(()=>{dispatch(fetchSchema());},[dispatch]);return/*#__PURE__*/_jsxs(\"div\",{className:\"data-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDCCA Data Schema Explorer\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Explore your database schema, understand table relationships, and execute queries to analyze your data.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"schema-panel\",children:/*#__PURE__*/_jsx(SchemasTree,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"query-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"query-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Query Builder\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"query-editor\",children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Write your SQL query here or use the schema explorer to build one...\",value:selectedQuery||'',onChange:e=>setSelectedQuery(e.target.value),rows:8,className:\"sql-editor\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"query-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"execute-btn\",disabled:!selectedQuery||executingQuery,onClick:()=>{// TODO: Implement query execution\nconsole.log('Executing:',selectedQuery);},children:executingQuery?'Executing...':'‚ñ∂ Execute Query'}),/*#__PURE__*/_jsx(\"button\",{className:\"clear-btn\",onClick:()=>{setSelectedQuery(null);setQueryResult(null);},children:\"Clear\"})]})]})]}),(queryResult||executingQuery)&&/*#__PURE__*/_jsx(\"div\",{className:\"results-section\",children:/*#__PURE__*/_jsx(DataTable,{data:queryResult,loading:executingQuery,error:null})}),!queryResult&&!executingQuery&&/*#__PURE__*/_jsxs(\"div\",{className:\"getting-started\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Getting Started\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tips-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tip-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDDC2\\uFE0F Explore Tables\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Click on table names in the schema panel to expand and view columns.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tip-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDD17 View Relationships\"}),/*#__PURE__*/_jsx(\"p\",{children:\"See how tables are connected through foreign keys and join paths.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tip-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u270F\\uFE0F Write SQL\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Use the query editor to write and execute custom SQL queries.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tip-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCC8 Analyze Results\"}),/*#__PURE__*/_jsx(\"p\",{children:\"View query results in a structured table with sorting and statistics.\"})]})]})]})]})]})]});};export default DataPage;","map":{"version":3,"names":["React","useDispatch","useSelector","fetchSchema","SchemasTree","DataTable","jsx","_jsx","jsxs","_jsxs","DataPage","dispatch","schema","isLoading","error","state","data","selectedQuery","setSelectedQuery","useState","queryResult","setQueryResult","executingQuery","setExecutingQuery","useEffect","className","children","placeholder","value","onChange","e","target","rows","disabled","onClick","console","log","loading"],"sources":["/Users/kanumadhok/Downloads/code/Sql_Rag_Demo/SQL_RAG/rag_app/frontend/src/pages/DataPage.tsx"],"sourcesContent":["import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { RootState, AppDispatch } from '../store';\nimport { fetchSchema } from '../store/dataSlice';\nimport SchemasTree from '../components/data/SchemasTree';\nimport DataTable from '../components/data/DataTable';\nimport LoadingSpinner from '../components/common/LoadingSpinner';\nimport './DataPage.css';\n\nconst DataPage: React.FC = () => {\n  const dispatch = useDispatch<AppDispatch>();\n  const { schema, isLoading, error } = useSelector((state: RootState) => state.data);\n  const [selectedQuery, setSelectedQuery] = React.useState<string | null>(null);\n  const [queryResult, setQueryResult] = React.useState<any>(null);\n  const [executingQuery, setExecutingQuery] = React.useState(false);\n\n  React.useEffect(() => {\n    dispatch(fetchSchema());\n  }, [dispatch]);\n\n  return (\n    <div className=\"data-page\">\n      <div className=\"page-header\">\n        <h1>üìä Data Schema Explorer</h1>\n        <p>\n          Explore your database schema, understand table relationships, \n          and execute queries to analyze your data.\n        </p>\n      </div>\n\n      <div className=\"data-content\">\n        <div className=\"schema-panel\">\n          <SchemasTree />\n        </div>\n\n        <div className=\"query-panel\">\n          <div className=\"query-section\">\n            <h3>Query Builder</h3>\n            <div className=\"query-editor\">\n              <textarea\n                placeholder=\"Write your SQL query here or use the schema explorer to build one...\"\n                value={selectedQuery || ''}\n                onChange={(e) => setSelectedQuery(e.target.value)}\n                rows={8}\n                className=\"sql-editor\"\n              />\n              <div className=\"query-controls\">\n                <button \n                  className=\"execute-btn\"\n                  disabled={!selectedQuery || executingQuery}\n                  onClick={() => {\n                    // TODO: Implement query execution\n                    console.log('Executing:', selectedQuery);\n                  }}\n                >\n                  {executingQuery ? 'Executing...' : '‚ñ∂ Execute Query'}\n                </button>\n                <button \n                  className=\"clear-btn\"\n                  onClick={() => {\n                    setSelectedQuery(null);\n                    setQueryResult(null);\n                  }}\n                >\n                  Clear\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {(queryResult || executingQuery) && (\n            <div className=\"results-section\">\n              <DataTable \n                data={queryResult} \n                loading={executingQuery}\n                error={null}\n              />\n            </div>\n          )}\n\n          {!queryResult && !executingQuery && (\n            <div className=\"getting-started\">\n              <h3>Getting Started</h3>\n              <div className=\"tips-grid\">\n                <div className=\"tip-card\">\n                  <h4>üóÇÔ∏è Explore Tables</h4>\n                  <p>Click on table names in the schema panel to expand and view columns.</p>\n                </div>\n                <div className=\"tip-card\">\n                  <h4>üîó View Relationships</h4>\n                  <p>See how tables are connected through foreign keys and join paths.</p>\n                </div>\n                <div className=\"tip-card\">\n                  <h4>‚úèÔ∏è Write SQL</h4>\n                  <p>Use the query editor to write and execute custom SQL queries.</p>\n                </div>\n                <div className=\"tip-card\">\n                  <h4>üìà Analyze Results</h4>\n                  <p>View query results in a structured table with sorting and statistics.</p>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DataPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}