{"ast":null,"code":"const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\nclass ApiError extends Error {\n  constructor(status, message, response) {\n    super(message);\n    this.status = status;\n    this.response = response;\n    this.name = 'ApiError';\n  }\n}\nasync function apiRequest(endpoint, options = {}) {\n  const url = `${API_BASE_URL}${endpoint}`;\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      ...options.headers\n    },\n    ...options\n  };\n  try {\n    const response = await fetch(url, config);\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new ApiError(response.status, errorData.message || `HTTP ${response.status}: ${response.statusText}`, response);\n    }\n    return await response.json();\n  } catch (error) {\n    if (error instanceof ApiError) {\n      throw error;\n    }\n    throw new ApiError(0, 'Network error or server unavailable');\n  }\n}\nexport const api = {\n  get: endpoint => apiRequest(endpoint, {\n    method: 'GET'\n  }),\n  post: (endpoint, data) => apiRequest(endpoint, {\n    method: 'POST',\n    body: data ? JSON.stringify(data) : undefined\n  }),\n  put: (endpoint, data) => apiRequest(endpoint, {\n    method: 'PUT',\n    body: data ? JSON.stringify(data) : undefined\n  }),\n  delete: endpoint => apiRequest(endpoint, {\n    method: 'DELETE'\n  })\n};\nexport { ApiError };","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","ApiError","Error","constructor","status","message","response","name","apiRequest","endpoint","options","url","config","headers","fetch","ok","errorData","json","catch","statusText","error","api","get","method","post","data","body","JSON","stringify","undefined","put","delete"],"sources":["/Users/kanumadhok/Downloads/code/Sql_Rag_Demo/SQL_RAG/rag_app/frontend/src/services/api.ts"],"sourcesContent":["const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n\nclass ApiError extends Error {\n  constructor(\n    public status: number,\n    message: string,\n    public response?: Response\n  ) {\n    super(message);\n    this.name = 'ApiError';\n  }\n}\n\nasync function apiRequest<T>(\n  endpoint: string,\n  options: RequestInit = {}\n): Promise<T> {\n  const url = `${API_BASE_URL}${endpoint}`;\n  \n  const config: RequestInit = {\n    headers: {\n      'Content-Type': 'application/json',\n      ...options.headers,\n    },\n    ...options,\n  };\n\n  try {\n    const response = await fetch(url, config);\n    \n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new ApiError(\n        response.status,\n        errorData.message || `HTTP ${response.status}: ${response.statusText}`,\n        response\n      );\n    }\n\n    return await response.json();\n  } catch (error) {\n    if (error instanceof ApiError) {\n      throw error;\n    }\n    throw new ApiError(0, 'Network error or server unavailable');\n  }\n}\n\nexport const api = {\n  get: <T>(endpoint: string) => apiRequest<T>(endpoint, { method: 'GET' }),\n  post: <T>(endpoint: string, data?: any) => \n    apiRequest<T>(endpoint, {\n      method: 'POST',\n      body: data ? JSON.stringify(data) : undefined,\n    }),\n  put: <T>(endpoint: string, data?: any) => \n    apiRequest<T>(endpoint, {\n      method: 'PUT',\n      body: data ? JSON.stringify(data) : undefined,\n    }),\n  delete: <T>(endpoint: string) => apiRequest<T>(endpoint, { method: 'DELETE' }),\n};\n\nexport { ApiError };"],"mappings":"AAAA,MAAMA,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAE7E,MAAMC,QAAQ,SAASC,KAAK,CAAC;EAC3BC,WAAWA,CACFC,MAAc,EACrBC,OAAe,EACRC,QAAmB,EAC1B;IACA,KAAK,CAACD,OAAO,CAAC;IAAC,KAJRD,MAAc,GAAdA,MAAc;IAAA,KAEdE,QAAmB,GAAnBA,QAAmB;IAG1B,IAAI,CAACC,IAAI,GAAG,UAAU;EACxB;AACF;AAEA,eAAeC,UAAUA,CACvBC,QAAgB,EAChBC,OAAoB,GAAG,CAAC,CAAC,EACb;EACZ,MAAMC,GAAG,GAAG,GAAGd,YAAY,GAAGY,QAAQ,EAAE;EAExC,MAAMG,MAAmB,GAAG;IAC1BC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClC,GAAGH,OAAO,CAACG;IACb,CAAC;IACD,GAAGH;EACL,CAAC;EAED,IAAI;IACF,MAAMJ,QAAQ,GAAG,MAAMQ,KAAK,CAACH,GAAG,EAAEC,MAAM,CAAC;IAEzC,IAAI,CAACN,QAAQ,CAACS,EAAE,EAAE;MAChB,MAAMC,SAAS,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;MACzD,MAAM,IAAIjB,QAAQ,CAChBK,QAAQ,CAACF,MAAM,EACfY,SAAS,CAACX,OAAO,IAAI,QAAQC,QAAQ,CAACF,MAAM,KAAKE,QAAQ,CAACa,UAAU,EAAE,EACtEb,QACF,CAAC;IACH;IAEA,OAAO,MAAMA,QAAQ,CAACW,IAAI,CAAC,CAAC;EAC9B,CAAC,CAAC,OAAOG,KAAK,EAAE;IACd,IAAIA,KAAK,YAAYnB,QAAQ,EAAE;MAC7B,MAAMmB,KAAK;IACb;IACA,MAAM,IAAInB,QAAQ,CAAC,CAAC,EAAE,qCAAqC,CAAC;EAC9D;AACF;AAEA,OAAO,MAAMoB,GAAG,GAAG;EACjBC,GAAG,EAAMb,QAAgB,IAAKD,UAAU,CAAIC,QAAQ,EAAE;IAAEc,MAAM,EAAE;EAAM,CAAC,CAAC;EACxEC,IAAI,EAAEA,CAAIf,QAAgB,EAAEgB,IAAU,KACpCjB,UAAU,CAAIC,QAAQ,EAAE;IACtBc,MAAM,EAAE,MAAM;IACdG,IAAI,EAAED,IAAI,GAAGE,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC,GAAGI;EACtC,CAAC,CAAC;EACJC,GAAG,EAAEA,CAAIrB,QAAgB,EAAEgB,IAAU,KACnCjB,UAAU,CAAIC,QAAQ,EAAE;IACtBc,MAAM,EAAE,KAAK;IACbG,IAAI,EAAED,IAAI,GAAGE,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC,GAAGI;EACtC,CAAC,CAAC;EACJE,MAAM,EAAMtB,QAAgB,IAAKD,UAAU,CAAIC,QAAQ,EAAE;IAAEc,MAAM,EAAE;EAAS,CAAC;AAC/E,CAAC;AAED,SAAStB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}