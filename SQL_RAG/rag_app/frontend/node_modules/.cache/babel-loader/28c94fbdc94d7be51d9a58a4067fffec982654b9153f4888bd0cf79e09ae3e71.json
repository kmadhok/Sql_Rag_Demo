{"ast":null,"code":"import api from'./api';export const dataService={// Get database schema\nasync getDatabaseSchema(){try{const response=await api.get('/data/schema');return response.data;}catch(error){var _error$response,_error$response$data;console.error('Error fetching database schema:',error);throw new Error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||error.message||'Failed to fetch database schema');}},// Get table schema\nasync getTableSchema(tableName){try{const response=await api.get(\"/data/tables/\".concat(tableName));return response.data;}catch(error){var _error$response2,_error$response2$data;console.error(\"Error fetching table schema for \".concat(tableName,\":\"),error);throw new Error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.detail)||error.message||'Failed to fetch table schema');}},// Get all table names\nasync getTableNames(){try{const response=await api.get('/data/tables');return response.data;}catch(error){var _error$response3,_error$response3$data;console.error('Error fetching table names:',error);throw new Error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.detail)||error.message||'Failed to fetch table names');}},// Get query catalog\nasync getQueries(options){try{const response=await api.get('/data/queries',{params:options});return response.data;}catch(error){var _error$response4,_error$response4$data;console.error('Error fetching queries:',error);throw new Error(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.detail)||error.message||'Failed to fetch queries');}},// Execute SQL query\nasync executeQuery(request){try{const response=await api.post('/sql/execute',{sql:request.sql,dry_run:request.dryRun,session_id:request.sessionId});return response.data;}catch(error){var _error$response5,_error$response5$data;console.error('Error executing query:',error);throw new Error(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.detail)||error.message||'Failed to execute query');}},// Search queries\nasync searchQueries(search){let limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;return this.getQueries({search,limit});}};","map":{"version":3,"names":["api","dataService","getDatabaseSchema","response","get","data","error","_error$response","_error$response$data","console","Error","detail","message","getTableSchema","tableName","concat","_error$response2","_error$response2$data","getTableNames","_error$response3","_error$response3$data","getQueries","options","params","_error$response4","_error$response4$data","executeQuery","request","post","sql","dry_run","dryRun","session_id","sessionId","_error$response5","_error$response5$data","searchQueries","search","limit","arguments","length","undefined"],"sources":["/Users/kanumadhok/Downloads/code/Sql_Rag_Demo/SQL_RAG/rag_app/frontend/src/services/dataService.ts"],"sourcesContent":["import api from './api';\nimport { DatabaseSchema, TableSchema, QueryItem, ExecuteSQLRequest, ExecuteSQLResponse } from '../types/api';\n\nexport const dataService = {\n  // Get database schema\n  async getDatabaseSchema(): Promise<DatabaseSchema> {\n    try {\n      const response = await api.get<DatabaseSchema>('/data/schema');\n      return response.data;\n    } catch (error: any) {\n      console.error('Error fetching database schema:', error);\n      throw new Error(\n        error.response?.data?.detail || \n        error.message || \n        'Failed to fetch database schema'\n      );\n    }\n  },\n\n  // Get table schema\n  async getTableSchema(tableName: string): Promise<TableSchema> {\n    try {\n      const response = await api.get<TableSchema>(`/data/tables/${tableName}`);\n      return response.data;\n    } catch (error: any) {\n      console.error(`Error fetching table schema for ${tableName}:`, error);\n      throw new Error(\n        error.response?.data?.detail || \n        error.message || \n        'Failed to fetch table schema'\n      );\n    }\n  },\n\n  // Get all table names\n  async getTableNames(): Promise<{ tables: string[]; count: number }> {\n    try {\n      const response = await api.get('/data/tables');\n      return response.data;\n    } catch (error: any) {\n      console.error('Error fetching table names:', error);\n      throw new Error(\n        error.response?.data?.detail || \n        error.message || \n        'Failed to fetch table names'\n      );\n    }\n  },\n\n  // Get query catalog\n  async getQueries(options?: {\n    search?: string;\n    limit?: number;\n  }): Promise<{ queries: QueryItem[]; count: number }> {\n    try {\n      const response = await api.get('/data/queries', {\n        params: options\n      });\n      return response.data;\n    } catch (error: any) {\n      console.error('Error fetching queries:', error);\n      throw new Error(\n        error.response?.data?.detail || \n        error.message || \n        'Failed to fetch queries'\n      );\n    }\n  },\n\n  // Execute SQL query\n  async executeQuery(request: ExecuteSQLRequest): Promise<ExecuteSQLResponse> {\n    try {\n      const response = await api.post<ExecuteSQLResponse>('/sql/execute', {\n        sql: request.sql,\n        dry_run: request.dryRun,\n        session_id: request.sessionId\n      });\n      return response.data;\n    } catch (error: any) {\n      console.error('Error executing query:', error);\n      throw new Error(\n        error.response?.data?.detail || \n        error.message || \n        'Failed to execute query'\n      );\n    }\n  },\n\n  // Search queries\n  async searchQueries(\n    search: string, \n    limit: number = 20\n  ): Promise<{ queries: QueryItem[]; count: number }> {\n    return this.getQueries({ search, limit });\n  }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}