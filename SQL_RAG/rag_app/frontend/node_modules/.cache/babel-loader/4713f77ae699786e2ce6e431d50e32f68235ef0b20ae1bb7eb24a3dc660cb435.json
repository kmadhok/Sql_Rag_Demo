{"ast":null,"code":"import React,{useState}from'react';import'./QueryCard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const QueryCard=_ref=>{let{query,onExecute,onView}=_ref;const[copied,setCopied]=useState(false);const[showDetails,setShowDetails]=useState(false);const handleCopy=async()=>{try{await navigator.clipboard.writeText(query.sql);setCopied(true);setTimeout(()=>setCopied(false),2000);}catch(err){console.error('Failed to copy:',err);}};const getComplexityColor=complexity=>{switch(complexity){case'Easy':return'easy';case'Medium':return'medium';case'Hard':return'hard';default:return'medium';}};const getCategoryIcon=category=>{switch(category){case'Basic':return'üîç';case'Analytics':return'üìä';case'Reports':return'üìà';case'Admin':return'‚öôÔ∏è';default:return'üîç';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"query-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"query-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"query-title\",children:[/*#__PURE__*/_jsx(\"h3\",{children:query.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"query-badges\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"category-badge\",children:[getCategoryIcon(query.category),\" \",query.category]}),/*#__PURE__*/_jsx(\"span\",{className:\"complexity-badge \".concat(getComplexityColor(query.complexity)),children:query.complexity})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"query-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDetails(!showDetails),className:\"view-button\",children:showDetails?'Hide':'View'}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCopy,className:\"copy-button \".concat(copied?'copied':''),children:copied?'‚úì Copied!':'üìã Copy'}),onExecute&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>onExecute(query.sql),className:\"execute-button\",children:\"\\u25B6 Execute\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"query-description\",children:query.description}),query.tags&&query.tags.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"query-tags\",children:query.tags.map((tag,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"tag\",children:tag},index))}),showDetails&&/*#__PURE__*/_jsxs(\"div\",{className:\"query-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sql-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"SQL Query:\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"sql-code\",children:/*#__PURE__*/_jsx(\"code\",{children:query.sql})})]}),query.usage_count!==undefined&&/*#__PURE__*/_jsxs(\"div\",{className:\"usage-info\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Used \",query.usage_count,\" times\"]}),query.last_used&&/*#__PURE__*/_jsxs(\"span\",{children:[\"Last used: \",new Date(query.last_used).toLocaleDateString()]})]})]})]});};export default QueryCard;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","QueryCard","_ref","query","onExecute","onView","copied","setCopied","showDetails","setShowDetails","handleCopy","navigator","clipboard","writeText","sql","setTimeout","err","console","error","getComplexityColor","complexity","getCategoryIcon","category","className","children","title","concat","onClick","description","tags","length","map","tag","index","usage_count","undefined","last_used","Date","toLocaleDateString"],"sources":["/Users/kanumadhok/Downloads/code/Sql_Rag_Demo/SQL_RAG/rag_app/frontend/src/components/search/QueryCard.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { QueryItem } from '../../types/api';\nimport './QueryCard.css';\n\ninterface QueryCardProps {\n  query: QueryItem;\n  onExecute?: (sql: string) => void;\n  onView?: (sql: string) => void;\n}\n\nconst QueryCard: React.FC<QueryCardProps> = ({ \n  query, \n  onExecute, \n  onView \n}) => {\n  const [copied, setCopied] = useState(false);\n  const [showDetails, setShowDetails] = useState(false);\n\n  const handleCopy = async () => {\n    try {\n      await navigator.clipboard.writeText(query.sql);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    } catch (err) {\n      console.error('Failed to copy:', err);\n    }\n  };\n\n  const getComplexityColor = (complexity: string) => {\n    switch (complexity) {\n      case 'Easy': return 'easy';\n      case 'Medium': return 'medium';\n      case 'Hard': return 'hard';\n      default: return 'medium';\n    }\n  };\n\n  const getCategoryIcon = (category: string) => {\n    switch (category) {\n      case 'Basic': return 'üîç';\n      case 'Analytics': return 'üìä';\n      case 'Reports': return 'üìà';\n      case 'Admin': return '‚öôÔ∏è';\n      default: return 'üîç';\n    }\n  };\n\n  return (\n    <div className=\"query-card\">\n      <div className=\"query-header\">\n        <div className=\"query-title\">\n          <h3>{query.title}</h3>\n          <div className=\"query-badges\">\n            <span className=\"category-badge\">\n              {getCategoryIcon(query.category)} {query.category}\n            </span>\n            <span className={`complexity-badge ${getComplexityColor(query.complexity)}`}>\n              {query.complexity}\n            </span>\n          </div>\n        </div>\n        <div className=\"query-actions\">\n          <button\n            onClick={() => setShowDetails(!showDetails)}\n            className=\"view-button\"\n          >\n            {showDetails ? 'Hide' : 'View'}\n          </button>\n          <button\n            onClick={handleCopy}\n            className={`copy-button ${copied ? 'copied' : ''}`}\n          >\n            {copied ? '‚úì Copied!' : 'üìã Copy'}\n          </button>\n          {onExecute && (\n            <button\n              onClick={() => onExecute(query.sql)}\n              className=\"execute-button\"\n            >\n              ‚ñ∂ Execute\n            </button>\n          )}\n        </div>\n      </div>\n\n      <p className=\"query-description\">{query.description}</p>\n\n      {query.tags && query.tags.length > 0 && (\n        <div className=\"query-tags\">\n          {query.tags.map((tag, index) => (\n            <span key={index} className=\"tag\">\n              {tag}\n            </span>\n          ))}\n        </div>\n      )}\n\n      {showDetails && (\n        <div className=\"query-details\">\n          <div className=\"sql-section\">\n            <h4>SQL Query:</h4>\n            <pre className=\"sql-code\">\n              <code>{query.sql}</code>\n            </pre>\n          </div>\n          \n          {query.usage_count !== undefined && (\n            <div className=\"usage-info\">\n              <span>Used {query.usage_count} times</span>\n              {query.last_used && (\n                <span>Last used: {new Date(query.last_used).toLocaleDateString()}</span>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default QueryCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}