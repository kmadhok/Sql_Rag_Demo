{"ast":null,"code":"import React from'react';import'../../styles/MessageBubble.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MessageBubble=_ref=>{let{message}=_ref;const formatDate=timestamp=>{const date=typeof timestamp==='string'?new Date(timestamp):timestamp;return date.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});};const isUser=message.role==='user';const hasSQL=message.sqlQuery&&message.sqlQuery.trim();const hasResults=message.sqlResult;return/*#__PURE__*/_jsxs(\"div\",{className:\"message-bubble \".concat(isUser?'user':'assistant'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"message-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-text\",children:message.content}),hasSQL&&/*#__PURE__*/_jsxs(\"div\",{className:\"sql-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sql-header\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Generated SQL:\"})}),/*#__PURE__*/_jsx(\"pre\",{className:\"sql-code\",children:/*#__PURE__*/_jsx(\"code\",{children:message.sqlQuery})}),hasResults&&/*#__PURE__*/_jsxs(\"div\",{className:\"sql-results\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Results:\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"result-data\",children:JSON.stringify(message.sqlResult,null,2)})]})]}),message.tokenUsage&&/*#__PURE__*/_jsx(\"div\",{className:\"token-usage\",children:/*#__PURE__*/_jsxs(\"small\",{children:[\"Tokens: \",message.tokenUsage.prompt,\" + \",message.tokenUsage.completion,\" = \",message.tokenUsage.total]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"message-meta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"message-time\",children:formatDate(message.timestamp)}),message.agentUsed&&/*#__PURE__*/_jsx(\"span\",{className:\"agent-badge\",children:message.agentUsed})]})]});};export default MessageBubble;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","MessageBubble","_ref","message","formatDate","timestamp","date","Date","toLocaleTimeString","hour","minute","isUser","role","hasSQL","sqlQuery","trim","hasResults","sqlResult","className","concat","children","content","JSON","stringify","tokenUsage","prompt","completion","total","agentUsed"],"sources":["/Users/kanumadhok/Downloads/code/Sql_Rag_Demo/SQL_RAG/rag_app/frontend/src/components/chat/MessageBubble.tsx"],"sourcesContent":["import React from 'react';\nimport '../../styles/MessageBubble.css';\nimport { Message } from '../../types/api';\n\ninterface MessageBubbleProps {\n  message: Message;\n}\n\nconst MessageBubble: React.FC<MessageBubbleProps> = ({ message }) => {\n  const formatDate = (timestamp: Date | string): string => {\n    const date = typeof timestamp === 'string' ? new Date(timestamp) : timestamp;\n    return date.toLocaleTimeString([], { \n      hour: '2-digit', \n      minute: '2-digit' \n    });\n  };\n\n  const isUser = message.role === 'user';\n  const hasSQL = message.sqlQuery && message.sqlQuery.trim();\n const hasResults = message.sqlResult;\n\n  return (\n    <div className={`message-bubble ${isUser ? 'user' : 'assistant'}`}>\n      <div className=\"message-content\">\n        <div className=\"message-text\">\n          {message.content}\n        </div>\n        \n        {hasSQL && (\n          <div className=\"sql-section\">\n            <div className=\"sql-header\">\n              <strong>Generated SQL:</strong>\n            </div>\n            <pre className=\"sql-code\">\n              <code>{message.sqlQuery}</code>\n            </pre>\n            \n            {hasResults && (\n              <div className=\"sql-results\">\n                <strong>Results:</strong>\n                <pre className=\"result-data\">\n                  {JSON.stringify(message.sqlResult, null, 2)}\n                </pre>\n              </div>\n            )}\n          </div>\n        )}\n        \n        {message.tokenUsage && (\n          <div className=\"token-usage\">\n            <small>\n              Tokens: {message.tokenUsage.prompt} + {message.tokenUsage.completion} = {message.tokenUsage.total}\n            </small>\n          </div>\n        )}\n      </div>\n      \n      <div className=\"message-meta\">\n        <span className=\"message-time\">{formatDate(message.timestamp)}</span>\n        {message.agentUsed && (\n          <span className=\"agent-badge\">{message.agentUsed}</span>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default MessageBubble;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAOxC,KAAM,CAAAC,aAA2C,CAAGC,IAAA,EAAiB,IAAhB,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CAC9D,KAAM,CAAAE,UAAU,CAAIC,SAAwB,EAAa,CACvD,KAAM,CAAAC,IAAI,CAAG,MAAO,CAAAD,SAAS,GAAK,QAAQ,CAAG,GAAI,CAAAE,IAAI,CAACF,SAAS,CAAC,CAAGA,SAAS,CAC5E,MAAO,CAAAC,IAAI,CAACE,kBAAkB,CAAC,EAAE,CAAE,CACjCC,IAAI,CAAE,SAAS,CACfC,MAAM,CAAE,SACV,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAC,MAAM,CAAGR,OAAO,CAACS,IAAI,GAAK,MAAM,CACtC,KAAM,CAAAC,MAAM,CAAGV,OAAO,CAACW,QAAQ,EAAIX,OAAO,CAACW,QAAQ,CAACC,IAAI,CAAC,CAAC,CAC3D,KAAM,CAAAC,UAAU,CAAGb,OAAO,CAACc,SAAS,CAEnC,mBACEjB,KAAA,QAAKkB,SAAS,mBAAAC,MAAA,CAAoBR,MAAM,CAAG,MAAM,CAAG,WAAW,CAAG,CAAAS,QAAA,eAChEpB,KAAA,QAAKkB,SAAS,CAAC,iBAAiB,CAAAE,QAAA,eAC9BtB,IAAA,QAAKoB,SAAS,CAAC,cAAc,CAAAE,QAAA,CAC1BjB,OAAO,CAACkB,OAAO,CACb,CAAC,CAELR,MAAM,eACLb,KAAA,QAAKkB,SAAS,CAAC,aAAa,CAAAE,QAAA,eAC1BtB,IAAA,QAAKoB,SAAS,CAAC,YAAY,CAAAE,QAAA,cACzBtB,IAAA,WAAAsB,QAAA,CAAQ,gBAAc,CAAQ,CAAC,CAC5B,CAAC,cACNtB,IAAA,QAAKoB,SAAS,CAAC,UAAU,CAAAE,QAAA,cACvBtB,IAAA,SAAAsB,QAAA,CAAOjB,OAAO,CAACW,QAAQ,CAAO,CAAC,CAC5B,CAAC,CAELE,UAAU,eACThB,KAAA,QAAKkB,SAAS,CAAC,aAAa,CAAAE,QAAA,eAC1BtB,IAAA,WAAAsB,QAAA,CAAQ,UAAQ,CAAQ,CAAC,cACzBtB,IAAA,QAAKoB,SAAS,CAAC,aAAa,CAAAE,QAAA,CACzBE,IAAI,CAACC,SAAS,CAACpB,OAAO,CAACc,SAAS,CAAE,IAAI,CAAE,CAAC,CAAC,CACxC,CAAC,EACH,CACN,EACE,CACN,CAEAd,OAAO,CAACqB,UAAU,eACjB1B,IAAA,QAAKoB,SAAS,CAAC,aAAa,CAAAE,QAAA,cAC1BpB,KAAA,UAAAoB,QAAA,EAAO,UACG,CAACjB,OAAO,CAACqB,UAAU,CAACC,MAAM,CAAC,KAAG,CAACtB,OAAO,CAACqB,UAAU,CAACE,UAAU,CAAC,KAAG,CAACvB,OAAO,CAACqB,UAAU,CAACG,KAAK,EAC5F,CAAC,CACL,CACN,EACE,CAAC,cAEN3B,KAAA,QAAKkB,SAAS,CAAC,cAAc,CAAAE,QAAA,eAC3BtB,IAAA,SAAMoB,SAAS,CAAC,cAAc,CAAAE,QAAA,CAAEhB,UAAU,CAACD,OAAO,CAACE,SAAS,CAAC,CAAO,CAAC,CACpEF,OAAO,CAACyB,SAAS,eAChB9B,IAAA,SAAMoB,SAAS,CAAC,aAAa,CAAAE,QAAA,CAAEjB,OAAO,CAACyB,SAAS,CAAO,CACxD,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA3B,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}