{"ast":null,"code":"import _objectSpread from\"/Users/kanumadhok/Downloads/code/Sql_Rag_Demo/SQL_RAG/rag_app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{fetchSchema,fetchQueries}from'../store/dataSlice';import SchemasTree from'../components/data/SchemasTree';import DataTable from'../components/data/DataTable';import QueryCard from'../components/search/QueryCard';import LoadingSpinner from'../components/common/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DataPage=()=>{const dispatch=useDispatch();const{schema,queries,isLoading,error}=useSelector(state=>state.data);const[activeTab,setActiveTab]=useState('schema');const[queryResult,setQueryResult]=useState(null);const[executingQuery,setExecutingQuery]=useState(false);useEffect(()=>{dispatch(fetchSchema());dispatch(fetchQueries({}));},[dispatch]);const handleExecuteQuery=async sql=>{try{setExecutingQuery(true);// This would call the SQL execution API\nconsole.log('Executing query:',sql);// Mock execution for now\nsetQueryResult({success:true,data:[],columns:[],timestamp:new Date().toISOString()});setActiveTab('results');}catch(error){console.error('Error executing query:',error);}finally{setExecutingQuery(false);}};const styles={dataPage:{padding:'20px',maxWidth:'1200px',margin:'0 auto'},pageHeader:{marginBottom:'30px',textAlign:'center'},tabNavigation:{display:'flex',marginBottom:'20px',borderBottom:'1px solid #ddd'},tabButton:{padding:'12px 24px',border:'none',backgroundColor:'transparent',cursor:'pointer',borderBottom:'2px solid transparent',marginRight:'10px'},activeTab:{borderBottom:'2px solid #007bff',color:'#007bff'},dataContent:{marginTop:'20px'},queryHeader:{marginBottom:'20px'},queriesList:{display:'grid',gap:'16px'}};return/*#__PURE__*/_jsxs(\"div\",{style:styles.dataPage,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.pageHeader,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDDC3\\uFE0F Data Explorer\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Explore your database schema, understand table relationships, and execute SQL queries with our powerful data exploration tools.\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.tabNavigation,children:[/*#__PURE__*/_jsx(\"button\",{style:_objectSpread(_objectSpread({},styles.tabButton),activeTab==='schema'?styles.activeTab:{}),onClick:()=>setActiveTab('schema'),children:\"\\uD83D\\uDCCA Schema\"}),/*#__PURE__*/_jsx(\"button\",{style:_objectSpread(_objectSpread({},styles.tabButton),activeTab==='queries'?styles.activeTab:{}),onClick:()=>setActiveTab('queries'),children:\"\\uD83D\\uDD0D Query Catalog\"}),/*#__PURE__*/_jsx(\"button\",{style:_objectSpread(_objectSpread({},styles.tabButton),activeTab==='results'?styles.activeTab:{}),onClick:()=>setActiveTab('results'),children:\"\\uD83D\\uDCCB Results\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.dataContent,children:[activeTab==='schema'&&/*#__PURE__*/_jsx(\"div\",{className:\"schema-panel\",children:/*#__PURE__*/_jsx(SchemasTree,{schema:schema,isLoading:isLoading,error:error})}),activeTab==='queries'&&/*#__PURE__*/_jsxs(\"div\",{className:\"query-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.queryHeader,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Query Catalog\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Browse pre-built SQL queries and execute them instantly\"})]}),/*#__PURE__*/_jsx(\"div\",{style:styles.queriesList,children:queries.map(query=>/*#__PURE__*/_jsx(QueryCard,{query:query,onExecute:handleExecuteQuery},query.id))}),isLoading&&/*#__PURE__*/_jsx(LoadingSpinner,{message:\"Loading queries...\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error})]}),activeTab==='results'&&/*#__PURE__*/_jsx(\"div\",{className:\"results-panel\",children:/*#__PURE__*/_jsx(DataTable,{data:queryResult,isLoading:executingQuery})})]})]});};export default DataPage;","map":{"version":3,"names":["React","useState","useEffect","useSelector","useDispatch","fetchSchema","fetchQueries","SchemasTree","DataTable","QueryCard","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","DataPage","dispatch","schema","queries","isLoading","error","state","data","activeTab","setActiveTab","queryResult","setQueryResult","executingQuery","setExecutingQuery","handleExecuteQuery","sql","console","log","success","columns","timestamp","Date","toISOString","styles","dataPage","padding","maxWidth","margin","pageHeader","marginBottom","textAlign","tabNavigation","display","borderBottom","tabButton","border","backgroundColor","cursor","marginRight","color","dataContent","marginTop","queryHeader","queriesList","gap","style","children","_objectSpread","onClick","className","map","query","onExecute","id","message"],"sources":["/Users/kanumadhok/Downloads/code/Sql_Rag_Demo/SQL_RAG/rag_app/frontend/src/pages/DataPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { RootState, AppDispatch } from '../store';\nimport { fetchSchema, fetchQueries } from '../store/dataSlice';\nimport { ExecuteSQLResponse } from '../types/api';\nimport SchemasTree from '../components/data/SchemasTree';\nimport DataTable from '../components/data/DataTable';\nimport QueryCard from '../components/search/QueryCard';\nimport LoadingSpinner from '../components/common/LoadingSpinner';\n\nconst DataPage: React.FC = () => {\n  const dispatch = useDispatch<AppDispatch>();\n  const { schema, queries, isLoading, error } = useSelector((state: RootState) => state.data);\n  const [activeTab, setActiveTab] = useState<'schema' | 'queries' | 'results'>('schema');\n  const [queryResult, setQueryResult] = useState<ExecuteSQLResponse | null>(null);\n  const [executingQuery, setExecutingQuery] = useState(false);\n\n  useEffect(() => {\n    dispatch(fetchSchema());\n    dispatch(fetchQueries({}));\n  }, [dispatch]);\n\n  const handleExecuteQuery = async (sql: string) => {\n    try {\n      setExecutingQuery(true);\n      // This would call the SQL execution API\n      console.log('Executing query:', sql);\n      // Mock execution for now\n      setQueryResult({ success: true, data: [], columns: [], timestamp: new Date().toISOString() });\n      setActiveTab('results');\n    } catch (error) {\n      console.error('Error executing query:', error);\n    } finally {\n      setExecutingQuery(false);\n    }\n  };\n\n  const styles = {\n    dataPage: {\n      padding: '20px',\n      maxWidth: '1200px',\n      margin: '0 auto'\n    },\n    pageHeader: {\n      marginBottom: '30px',\n      textAlign: 'center' as const\n    },\n    tabNavigation: {\n      display: 'flex',\n      marginBottom: '20px',\n      borderBottom: '1px solid #ddd'\n    },\n    tabButton: {\n      padding: '12px 24px',\n      border: 'none',\n      backgroundColor: 'transparent',\n      cursor: 'pointer',\n      borderBottom: '2px solid transparent',\n      marginRight: '10px'\n    },\n    activeTab: {\n      borderBottom: '2px solid #007bff',\n      color: '#007bff'\n    },\n    dataContent: {\n      marginTop: '20px'\n    },\n    queryHeader: {\n      marginBottom: '20px'\n    },\n    queriesList: {\n      display: 'grid',\n      gap: '16px'\n    }\n  };\n\n  return (\n    <div style={styles.dataPage}>\n      <div style={styles.pageHeader}>\n        <h1>üóÉÔ∏è Data Explorer</h1>\n        <p>Explore your database schema, understand table relationships,\n          and execute SQL queries with our powerful data exploration tools.</p>\n      </div>\n\n      <div style={styles.tabNavigation}>\n        <button\n          style={{...styles.tabButton, ...(activeTab === 'schema' ? styles.activeTab : {})}}\n          onClick={() => setActiveTab('schema')}\n        >\n          üìä Schema\n        </button>\n        <button\n          style={{...styles.tabButton, ...(activeTab === 'queries' ? styles.activeTab : {})}}\n          onClick={() => setActiveTab('queries')}\n        >\n          üîç Query Catalog\n        </button>\n        <button\n          style={{...styles.tabButton, ...(activeTab === 'results' ? styles.activeTab : {})}}\n          onClick={() => setActiveTab('results')}\n        >\n          üìã Results\n        </button>\n      </div>\n\n      <div style={styles.dataContent}>\n        {activeTab === 'schema' && (\n          <div className=\"schema-panel\">\n            <SchemasTree \n              schema={schema} \n              isLoading={isLoading}\n              error={error}\n            />\n          </div>\n        )}\n\n        {activeTab === 'queries' && (\n          <div className=\"query-panel\">\n            <div style={styles.queryHeader}>\n              <h2>Query Catalog</h2>\n              <p>Browse pre-built SQL queries and execute them instantly</p>\n            </div>\n            \n            <div style={styles.queriesList}>\n              {queries.map((query) => (\n                <QueryCard\n                  key={query.id}\n                  query={query}\n                  onExecute={handleExecuteQuery}\n                />\n              ))}\n            </div>\n            \n            {isLoading && <LoadingSpinner message=\"Loading queries...\" />}\n            {error && <div className=\"error-message\">{error}</div>}\n          </div>\n        )}\n\n        {activeTab === 'results' && (\n          <div className=\"results-panel\">\n            <DataTable \n              data={queryResult} \n              isLoading={executingQuery}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default DataPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}