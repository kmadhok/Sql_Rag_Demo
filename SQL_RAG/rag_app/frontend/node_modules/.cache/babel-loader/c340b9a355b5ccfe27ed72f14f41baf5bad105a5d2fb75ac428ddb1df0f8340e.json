{"ast":null,"code":"import{api}from'./api';class ChatService{async sendMessage(request){const response=await api.post('/api/chat/query',request);return response;}async executeSQL(sql){let dryRun=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const response=await api.post('/api/chat/execute-sql',{sql,dry_run:dryRun});return response;}async getChatHistory(sessionId){const response=await api.get(\"/api/chat/history/\".concat(sessionId));return response;}createWebSocketConnection(sessionId){const wsUrl=\"\".concat(process.env.REACT_APP_WS_URL||'ws://localhost:8000',\"/ws/chat/\").concat(sessionId);return new WebSocket(wsUrl);}}export const chatService=new ChatService();","map":{"version":3,"names":["api","ChatService","sendMessage","request","response","post","executeSQL","sql","dryRun","arguments","length","undefined","dry_run","getChatHistory","sessionId","get","concat","createWebSocketConnection","wsUrl","process","env","REACT_APP_WS_URL","WebSocket","chatService"],"sources":["/Users/kanumadhok/Downloads/code/Sql_Rag_Demo/SQL_RAG/rag_app/frontend/src/services/chatService.ts"],"sourcesContent":["import { api } from './api';\nimport { ChatRequest, ChatResponse, SQLExecuteResponse } from '../types/api';\n\nclass ChatService {\n  async sendMessage(request: ChatRequest): Promise<ChatResponse> {\n    const response = await api.post<ChatResponse>('/api/chat/query', request);\n    return response;\n  }\n\n  async executeSQL(sql: string, dryRun: boolean = false): Promise<SQLExecuteResponse> {\n    const response = await api.post<SQLExecuteResponse>('/api/chat/execute-sql', {\n      sql,\n      dry_run: dryRun,\n    });\n    return response;\n  }\n\n  async getChatHistory(sessionId: string) {\n    const response = await api.get(`/api/chat/history/${sessionId}`);\n    return response;\n  }\n\n  createWebSocketConnection(sessionId: string): WebSocket {\n    const wsUrl = `${process.env.REACT_APP_WS_URL || 'ws://localhost:8000'}/ws/chat/${sessionId}`;\n    return new WebSocket(wsUrl);\n  }\n}\n\nexport const chatService = new ChatService();"],"mappings":"AAAA,OAASA,GAAG,KAAQ,OAAO,CAG3B,KAAM,CAAAC,WAAY,CAChB,KAAM,CAAAC,WAAWA,CAACC,OAAoB,CAAyB,CAC7D,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAJ,GAAG,CAACK,IAAI,CAAe,iBAAiB,CAAEF,OAAO,CAAC,CACzE,MAAO,CAAAC,QAAQ,CACjB,CAEA,KAAM,CAAAE,UAAUA,CAACC,GAAW,CAAwD,IAAtD,CAAAC,MAAe,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,KAAK,CACnD,KAAM,CAAAL,QAAQ,CAAG,KAAM,CAAAJ,GAAG,CAACK,IAAI,CAAqB,uBAAuB,CAAE,CAC3EE,GAAG,CACHK,OAAO,CAAEJ,MACX,CAAC,CAAC,CACF,MAAO,CAAAJ,QAAQ,CACjB,CAEA,KAAM,CAAAS,cAAcA,CAACC,SAAiB,CAAE,CACtC,KAAM,CAAAV,QAAQ,CAAG,KAAM,CAAAJ,GAAG,CAACe,GAAG,sBAAAC,MAAA,CAAsBF,SAAS,CAAE,CAAC,CAChE,MAAO,CAAAV,QAAQ,CACjB,CAEAa,yBAAyBA,CAACH,SAAiB,CAAa,CACtD,KAAM,CAAAI,KAAK,IAAAF,MAAA,CAAMG,OAAO,CAACC,GAAG,CAACC,gBAAgB,EAAI,qBAAqB,cAAAL,MAAA,CAAYF,SAAS,CAAE,CAC7F,MAAO,IAAI,CAAAQ,SAAS,CAACJ,KAAK,CAAC,CAC7B,CACF,CAEA,MAAO,MAAM,CAAAK,WAAW,CAAG,GAAI,CAAAtB,WAAW,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}