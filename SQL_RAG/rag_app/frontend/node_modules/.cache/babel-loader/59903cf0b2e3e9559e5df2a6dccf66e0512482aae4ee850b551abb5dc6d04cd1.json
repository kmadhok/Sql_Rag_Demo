{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MessageBubble=_ref=>{let{message}=_ref;const formatDate=timestamp=>{const date=typeof timestamp==='string'?new Date(timestamp):timestamp;return date.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});};const isUser=message.role==='user';const hasSQL=message.sqlQuery&&message.sqlQuery.trim();const hasResults=message.sqlResult;const styles={messageBubble:{display:'flex',flexDirection:'column',marginBottom:'16px',alignItems:isUser?'flex-end':'flex-start'},messageContent:{backgroundColor:isUser?'#007bff':'#f8f9fa',color:isUser?'white':'#333',padding:'12px 16px',borderRadius:'12px',maxWidth:'70%',wordBreak:'break-word'},messageText:{marginBottom:'8px',lineHeight:'1.4'},sqlSection:{marginTop:'12px',borderTop:\"1px solid \".concat(isUser?'rgba(255,255,255,0.3)':'#ddd'),paddingTop:'12px'},sqlCode:{backgroundColor:isUser?'rgba(255,255,255,0.1)':'#f4f4f4',padding:'8px',borderRadius:'4px',fontSize:'12px',overflowX:'auto',whiteSpace:'pre-wrap'},sqlResults:{marginTop:'8px'},resultData:{backgroundColor:isUser?'rgba(255,255,255,0.1)':'#f9f9f9',padding:'8px',borderRadius:'4px',fontSize:'11px',maxHeight:'200px',overflow:'auto'},tokenUsage:{marginTop:'8px',opacity:0.8},messageMeta:{fontSize:'12px',opacity:0.6,marginTop:'4px',display:'flex',gap:'8px',alignItems:'center',justifyContent:isUser?'flex-end':'flex-start'},agentBadge:{backgroundColor:isUser?'rgba(255,255,255,0.2)':'#007bff',color:isUser?'white':'white',padding:'2px 6px',borderRadius:'10px',fontSize:'10px'}};return/*#__PURE__*/_jsxs(\"div\",{style:styles.messageBubble,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.messageContent,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.messageText,children:message.content}),hasSQL&&/*#__PURE__*/_jsxs(\"div\",{style:styles.sqlSection,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Generated SQL:\"})}),/*#__PURE__*/_jsx(\"pre\",{style:styles.sqlCode,children:/*#__PURE__*/_jsx(\"code\",{children:message.sqlQuery})}),hasResults&&/*#__PURE__*/_jsxs(\"div\",{style:styles.sqlResults,children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Results:\"}),/*#__PURE__*/_jsx(\"pre\",{style:styles.resultData,children:JSON.stringify(message.sqlResult,null,2)})]})]}),message.tokenUsage&&/*#__PURE__*/_jsx(\"div\",{style:styles.tokenUsage,children:/*#__PURE__*/_jsxs(\"small\",{children:[\"Tokens: \",message.tokenUsage.prompt,\" + \",message.tokenUsage.completion,\" = \",message.tokenUsage.total]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.messageMeta,children:[/*#__PURE__*/_jsx(\"span\",{children:formatDate(message.timestamp)}),message.agentUsed&&/*#__PURE__*/_jsx(\"span\",{style:styles.agentBadge,children:message.agentUsed})]})]});};export default MessageBubble;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","MessageBubble","_ref","message","formatDate","timestamp","date","Date","toLocaleTimeString","hour","minute","isUser","role","hasSQL","sqlQuery","trim","hasResults","sqlResult","styles","messageBubble","display","flexDirection","marginBottom","alignItems","messageContent","backgroundColor","color","padding","borderRadius","maxWidth","wordBreak","messageText","lineHeight","sqlSection","marginTop","borderTop","concat","paddingTop","sqlCode","fontSize","overflowX","whiteSpace","sqlResults","resultData","maxHeight","overflow","tokenUsage","opacity","messageMeta","gap","justifyContent","agentBadge","style","children","content","JSON","stringify","prompt","completion","total","agentUsed"],"sources":["/Users/kanumadhok/Downloads/code/Sql_Rag_Demo/SQL_RAG/rag_app/frontend/src/components/chat/MessageBubble.tsx"],"sourcesContent":["import React from 'react';\nimport { Message } from '../../types/api';\n\ninterface MessageBubbleProps {\n  message: Message;\n}\n\nconst MessageBubble: React.FC<MessageBubbleProps> = ({ message }) => {\n  const formatDate = (timestamp: Date | string): string => {\n    const date = typeof timestamp === 'string' ? new Date(timestamp) : timestamp;\n    return date.toLocaleTimeString([], { \n      hour: '2-digit', \n      minute: '2-digit' \n    });\n  };\n\n  const isUser = message.role === 'user';\n  const hasSQL = message.sqlQuery && message.sqlQuery.trim();\n const hasResults = message.sqlResult;\n\n  const styles = {\n    messageBubble: {\n      display: 'flex',\n      flexDirection: 'column' as const,\n      marginBottom: '16px',\n      alignItems: isUser ? 'flex-end' : 'flex-start'\n    },\n    messageContent: {\n      backgroundColor: isUser ? '#007bff' : '#f8f9fa',\n      color: isUser ? 'white' : '#333',\n      padding: '12px 16px',\n      borderRadius: '12px',\n      maxWidth: '70%',\n      wordBreak: 'break-word' as const\n    },\n    messageText: {\n      marginBottom: '8px',\n      lineHeight: '1.4'\n    },\n    sqlSection: {\n      marginTop: '12px',\n      borderTop: `1px solid ${isUser ? 'rgba(255,255,255,0.3)' : '#ddd'}`,\n      paddingTop: '12px'\n    },\n    sqlCode: {\n      backgroundColor: isUser ? 'rgba(255,255,255,0.1)' : '#f4f4f4',\n      padding: '8px',\n      borderRadius: '4px',\n      fontSize: '12px',\n      overflowX: 'auto' as const,\n      whiteSpace: 'pre-wrap' as const\n    },\n    sqlResults: {\n      marginTop: '8px'\n    },\n    resultData: {\n      backgroundColor: isUser ? 'rgba(255,255,255,0.1)' : '#f9f9f9',\n      padding: '8px',\n      borderRadius: '4px',\n      fontSize: '11px',\n      maxHeight: '200px',\n      overflow: 'auto' as const\n    },\n    tokenUsage: {\n      marginTop: '8px',\n      opacity: 0.8\n    },\n    messageMeta: {\n      fontSize: '12px',\n      opacity: 0.6,\n      marginTop: '4px',\n      display: 'flex',\n      gap: '8px',\n      alignItems: 'center',\n      justifyContent: isUser ? 'flex-end' : 'flex-start'\n    },\n    agentBadge: {\n      backgroundColor: isUser ? 'rgba(255,255,255,0.2)' : '#007bff',\n      color: isUser ? 'white' : 'white',\n      padding: '2px 6px',\n      borderRadius: '10px',\n      fontSize: '10px'\n    }\n  };\n\n  return (\n    <div style={styles.messageBubble}>\n      <div style={styles.messageContent}>\n        <div style={styles.messageText}>\n          {message.content}\n        </div>\n        \n        {hasSQL && (\n          <div style={styles.sqlSection}>\n            <div>\n              <strong>Generated SQL:</strong>\n            </div>\n            <pre style={styles.sqlCode}>\n              <code>{message.sqlQuery}</code>\n            </pre>\n            \n            {hasResults && (\n              <div style={styles.sqlResults}>\n                <strong>Results:</strong>\n                <pre style={styles.resultData}>\n                  {JSON.stringify(message.sqlResult, null, 2)}\n                </pre>\n              </div>\n            )}\n          </div>\n        )}\n        \n        {message.tokenUsage && (\n          <div style={styles.tokenUsage}>\n            <small>\n              Tokens: {message.tokenUsage.prompt} + {message.tokenUsage.completion} = {message.tokenUsage.total}\n            </small>\n          </div>\n        )}\n      </div>\n      \n      <div style={styles.messageMeta}>\n        <span>{formatDate(message.timestamp)}</span>\n        {message.agentUsed && (\n          <span style={styles.agentBadge}>{message.agentUsed}</span>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default MessageBubble;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}